(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{159:function(e,t,a){},186:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},327:function(e,t,a){},328:function(e,t,a){},329:function(e,t,a){},330:function(e,t,a){},331:function(e,t,a){},332:function(e,t,a){},335:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(83),r=a.n(n),c=a(41),o=(a(186),a(9)),i=a.n(o),u=a(16),l=a(7),j=(a(188),a(20)),d=(a(189),a(1));function b(){return Object(d.jsxs)("div",{className:"profile-heading",children:[Object(d.jsx)("p",{className:"profile-name",children:"Profile Name"}),Object(d.jsx)("svg",{height:"100",width:"100",children:Object(d.jsx)("circle",{cx:"25",cy:"25",r:"24",stroke:"#DFE0EB","stroke-width":"1",fill:"white"})})]})}a(191);function h(e){return Object(d.jsxs)("div",{className:"stat-card",children:[Object(d.jsx)("h1",{className:"stat-card-title",children:e.title}),Object(d.jsx)("p",{className:"stat-card-data",children:e.stat})]})}a(192);function p(e){var t=[];return e.cards.forEach((function(e){return t.push(Object(d.jsx)(h,{title:e.title,stat:e.stat}))})),e.spaceEven?Object(d.jsx)("div",{className:"stat-cards-even",children:t}):Object(d.jsx)("div",{className:"stat-cards-between",children:t})}var m="Casework",f="Form Responses",v="#9B51E0";a(193);function O(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),n=a[0],r=a[1];return Object(d.jsxs)("div",{children:[Object(d.jsxs)("button",{className:"dropdown-menu-btn",onClick:function(){return r((function(e){return!e}))},children:[Object(d.jsx)("p",{className:"dropdown-menu-btn-text",children:e.chartView}),n?Object(d.jsx)("img",{className:"dropdown-menu-arrow rotate-arrow",src:"./assets/icons/down-arrow.svg"}):Object(d.jsx)("img",{className:"dropdown-menu-arrow",src:"./assets/icons/down-arrow.svg"})]}),n?Object(d.jsx)("div",{className:"menu",children:Object(d.jsx)("button",{onClick:function(){return t=f,e.setChartView(t),void r((function(e){return!e}));var t},className:"dropdown-menu-btn",children:Object(d.jsx)("p",{className:"dropdown-menu-btn-text",children:f})})}):Object(d.jsx)("div",{})]})}var x=a(336),g=a(90),w=a(91),N=a(340),y=a(96),S=a(172);function k(e){return Object(d.jsx)("div",{children:Object(d.jsxs)(x.a,{width:800,height:450,data:e.data,children:[Object(d.jsx)("defs",{children:Object(d.jsxs)("linearGradient",{id:"purpleGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(d.jsx)("stop",{offset:"0%",stopColor:v,stopOpacity:.5}),Object(d.jsx)("stop",{offset:"100%",stopColor:v,stopOpacity:0})]})}),Object(d.jsx)(g.a,{dataKey:"index"}),Object(d.jsx)(w.a,{}),Object(d.jsx)(N.a,{stroke:"#eee",vertical:!1}),Object(d.jsx)(y.a,{}),Object(d.jsx)(S.a,{type:"monotone",dataKey:"responses",stroke:v,fillOpacity:1,fill:"url(#purpleGradient)"})]})})}var E="http://localhost/v0",A="/responses",C="todayOnly=true",T="activeOnly=true&inquiryType=general",z="activeOnly=true&inquiryType=casework",I="/tags",H="/mailto",V="/tags";function G(){var e=Object(s.useState)(0),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(0),c=Object(l.a)(r,2),o=c[0],j=c[1],b=Object(s.useState)([]),p=Object(l.a)(b,2),m=p[0],v=p[1],x=Object(s.useState)(f),g=Object(l.a)(x,2),w=g[0],N=g[1];function y(){return(y=Object(u.a)(i.a.mark((function e(){var t,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch(E+A,{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((a=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return e.next=9,a.json();case 9:s=e.sent,n(s.length);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(u.a)(i.a.mark((function e(){var t,a,s,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch("http://localhost/v0/responses?todayOnly=true",{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((a=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return e.next=9,a.json();case 9:for(s=e.sent,n=new Map,s.forEach((function(e){var t=new Date(e.createdAt).getHours();n.has(t)?n.set(t,(n.get(t)||0)+1):n.set(t,1)})),r=[],c=0;c<24;c++)r.push({index:c,responses:n.get(c)||0});v(r),j(s.length);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){y.apply(this,arguments)}(),function(){S.apply(this,arguments)}()}),[]),Object(d.jsxs)("div",{className:"trends",children:[Object(d.jsxs)("div",{className:"chart-heading",children:[Object(d.jsx)("h2",{className:"chart-title",children:"Today's trends"}),Object(d.jsx)("div",{className:"dropdown-menu",children:Object(d.jsx)(O,{chartView:w,setChartView:N})})]}),Object(d.jsxs)("div",{className:"chart-stats",children:[Object(d.jsx)(k,{data:m}),Object(d.jsxs)("div",{className:"chart-stats-cards",children:[Object(d.jsx)(h,{title:"Total",stat:a}),Object(d.jsx)(h,{title:"Today",stat:o})]})]})]})}a(327);function P(){var e=Object(s.useState)(0),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(0),c=Object(l.a)(r,2),o=c[0],j=c[1],b=Object(s.useState)(0),h=Object(l.a)(b,2),f=(h[0],h[1]),v=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch("http://localhost/v0/responses?"+T,{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((a=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return e.next=9,a.json();case 9:s=e.sent,n(s.length);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch("http://localhost/v0/responses?"+z,{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((a=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return e.next=9,a.json();case 9:s=e.sent,j(s.length);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch(E+V,{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((a=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return s=new Set,e.next=10,a.json();case 10:e.sent.forEach((function(e){s.add(e)})),f(s.size);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){v(),O(),x()}),[]);var g=[{title:"General",stat:a},{title:m,stat:o}];return Object(d.jsxs)("div",{className:"dashboard",children:[Object(d.jsx)(p,{spaceEven:!0,cards:g}),Object(d.jsx)(G,{})]})}function q(e){return Object(d.jsx)("div",{children:Object(d.jsx)("h1",{className:"sub-dash-title",children:e.title})})}a(328);function F(e){return Object(d.jsxs)("div",{className:"sub-dash-card",children:[Object(d.jsx)("p",{className:"sub-dash-card-name",children:e.data.name}),Object(d.jsx)("button",{className:"sub-dash-card-btn",onClick:function(){return e.changeViewFunc(e.data)},children:"View"}),Object(d.jsx)("p",{className:"sub-dash-card-value",children:e.data.value})]})}function L(e){return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"sub-dash-sub-header",children:[Object(d.jsx)("h2",{className:"sub-dash-sub-title",children:e.title}),e.subHeaderValue?Object(d.jsx)("h1",{className:"sub-dash-sub-number",children:e.subHeaderValue}):null,Object(d.jsx)("hr",{className:"sub-dash-line"})]})})}a(329),a(330);function R(e){return Object(d.jsxs)("div",{className:"email-tmp-card",children:[Object(d.jsx)("p",{className:"email-tmp-card-name",children:e.name}),Object(d.jsx)("button",{className:"email-tmp-card-btn",children:"View"}),Object(d.jsx)("p",{className:"email-tmp-card-value",children:e.value})]})}function D(e){var t=[];return e.emailTemplates?e.data.forEach((function(e){return t.push(Object(d.jsx)(R,{name:e.name,value:e.value}))})):e.data.forEach((function(a){return t.push(Object(d.jsx)(F,{data:a,changeViewFunc:e.changeViewFunc}))})),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{children:[Object(d.jsx)(L,{title:e.title,subHeaderValue:e.subHeaderValue?e.subHeaderValue:void 0}),e.fullPageView?Object(d.jsx)("div",{className:"sub-dash-cards-700",children:t}):Object(d.jsx)("div",{className:"sub-dash-cards-400",children:t})]})})}a(159);function M(e){return Object(d.jsxs)("div",{className:"tag",children:[Object(d.jsx)("p",{className:"tag-value",children:"#"+e.value}),Object(d.jsx)("button",{className:"tag-remove-btn",onClick:function(){return e.remove(e.value)},children:Object(d.jsx)("img",{className:"icon",src:"./assets/icons/remove.svg"})})]})}function J(e){var t=Object(s.useRef)(null),a=Object(s.useState)(""),n=Object(l.a)(a,2),r=n[0],c=n[1],o=Object(s.useState)(!1),i=Object(l.a)(o,2),u=i[0],j=i[1];function b(t){t.preventDefault(),r.length>0&&e.addTag(r),j(!1),c("")}function h(e){t.current&&!t.current.contains(e.target)&&j(!1)}Object(s.useEffect)((function(){return document.addEventListener("mousedown",h),function(){document.removeEventListener("mousedown",h)}}),[]);var p=[];return e.values.forEach((function(t){p.push(Object(d.jsx)(M,{value:t,remove:e.removeTag}))})),Object(d.jsxs)("div",{className:"tags-container",children:[p,u?Object(d.jsx)("div",{children:Object(d.jsx)("form",{onSubmit:function(e){return b(e)},children:Object(d.jsx)("input",{ref:t,className:"tag-add-input",type:"text",placeholder:"#",onChange:function(e){return c(e.target.value)}})})}):Object(d.jsx)("button",{className:"tag-add-btn",onClick:function(){return j(!0)},children:Object(d.jsx)("img",{className:"icon",src:"./assets/icons/plus.svg"})})]})}a(331);function U(e){var t=Object(s.useState)(!0),a=Object(l.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)([]),o=Object(l.a)(c,2),j=o[0],b=o[1],h=Object(s.useState)(""),p=Object(l.a)(h,2),m=p[0],f=p[1];function v(){return(v=Object(u.a)(i.a.mark((function t(){var a,s,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={to:[e.email],subject:e.subject,body:m},s=JSON.stringify(a),t.next=4,fetch(E+H,{method:"POST",body:s,headers:new Headers({"Content-Type":"application/json"})});case 4:if(!((n=t.sent).status>=300)){t.next=8;break}return console.log("Error creating mailto"),t.abrupt("return");case 8:return t.next=10,n.text();case 10:r=t.sent,window.location.href=r;case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var O=function(){var t=Object(u.a)(i.a.mark((function t(){var a,s,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage.getItem("Authorization")||"",t.next=3,fetch("http://localhost/v0/responses/"+e.responseId+I,{method:"GET",headers:new Headers({Authorization:a})});case 3:if(!((s=t.sent).status>=300)){t.next=7;break}return console.log("Error retreiving response tags"),t.abrupt("return");case 7:return t.next=9,s.json();case 9:n=t.sent,r=[],n.forEach((function(e){r.push(e.value)})),b(r);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function x(){return(x=Object(u.a)(i.a.mark((function t(a){var s,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=localStorage.getItem("Authorization")||"",n=JSON.stringify({value:a}),t.next=4,fetch("http://localhost/v0/responses/"+e.responseId+I,{method:"DELETE",body:n,headers:new Headers({Authorization:s,"Content-Type":"application/json"})});case 4:if(!(t.sent.status>=300)){t.next=8;break}return console.log("Error creating tag"),t.abrupt("return");case 8:O();case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return(g=Object(u.a)(i.a.mark((function t(a){var s,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=localStorage.getItem("Authorization")||"",n=JSON.stringify({value:a}),t.next=4,fetch("http://localhost/v0/responses/"+e.responseId+I,{method:"POST",body:n,headers:new Headers({Authorization:s,"Content-Type":"application/json"})});case 4:if(!(t.sent.status>=300)){t.next=8;break}return console.log("Error creating tag"),t.abrupt("return");case 8:O();case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var w=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var s,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=localStorage.getItem("Authorization")||"",n=JSON.stringify({active:!a}),e.next=4,fetch("http://localhost/v0/responses/"+t,{method:"PATCH",body:n,headers:new Headers({Authorization:s})});case 4:if(!(e.sent.status>=300)){e.next=8;break}return console.log("Error marking form response as resolved"),e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function N(){return(N=Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r((function(e){return!e})),w(e.responseId,n);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.useEffect)((function(){O()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:"exit-button",onClick:function(){return e.setSpecificView()},children:Object(d.jsx)("img",{className:"back-arrow",src:"./assets/icons/arrow.svg"})}),Object(d.jsx)(q,{title:e.title}),Object(d.jsx)(L,{title:e.subject}),Object(d.jsx)(J,{addTag:function(e){return g.apply(this,arguments)},removeTag:function(e){return x.apply(this,arguments)},values:j}),Object(d.jsx)("div",{className:"form-response-container",children:Object(d.jsxs)("div",{className:"form-response",children:[Object(d.jsx)("p",{className:"form-response-body",children:e.body}),Object(d.jsx)("textarea",{className:"form-response-message",value:m,onChange:function(e){return f(e.target.value)}}),Object(d.jsxs)("div",{className:"resolved-send-container",children:[Object(d.jsxs)("label",{className:"resolved-label",children:[Object(d.jsx)("input",{id:"resolved-check-box",className:"resolved-check-box",type:"checkbox",onClick:function(){return function(){return N.apply(this,arguments)}()}}),"Resolved"]}),Object(d.jsx)("button",{className:"send-btn",placeholder:"Message",onClick:function(){return v.apply(this,arguments)},children:"Send"})]})]})})]})}function B(e){var t=e.header||"Form Responses",a=e.subjectTitle||"CURRENT RESPONSES",n=Object(s.useState)(!1),r=Object(l.a)(n,2),c=r[0],o=r[1],j=Object(s.useState)([]),b=Object(l.a)(j,2),h=b[0],p=b[1],m=Object(s.useState)(),f=Object(l.a)(m,2),v=f[0],O=f[1],x=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,s,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch("http://localhost/v0/responses?activeOnly=true",{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((a=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return e.next=9,a.json();case 9:s=e.sent,n=[],s.forEach((function(e){var t=new Date(e.createdAt).toLocaleString("en-US");n.push({id:e.id,email:e.emailAddress,name:e.name+" / "+e.subject,value:t,body:e.body})})),p(n);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){x()}),[]),Object(d.jsx)("div",{className:"dashboard sub-dashboard",children:c?Object(d.jsx)(U,{responseId:(null===v||void 0===v?void 0:v.id)||"",email:(null===v||void 0===v?void 0:v.email)||"",title:"Form Responses",subject:(null===v||void 0===v?void 0:v.name)||"",body:(null===v||void 0===v?void 0:v.body)||"",setSpecificView:function(){o(!1),x()}}):Object(d.jsxs)("div",{children:[Object(d.jsx)(q,{title:t}),Object(d.jsx)(D,{title:a,data:e.data?e.data:h,changeViewFunc:function(e){o(!0),O(e)},emailTemplates:!1,fullPageView:!0,subHeaderValue:e.data?e.data.length:h.length})]})})}function K(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(""),c=Object(l.a)(r,2),o=c[0],j=c[1],b=Object(s.useState)([]),h=Object(l.a)(b,2),m=h[0],f=h[1],v=Object(s.useState)(),O=Object(l.a)(v,2),x=O[0],g=O[1],w=Object(s.useState)([]),N=Object(l.a)(w,2),y=N[0],S=N[1],k=Object(s.useState)(0),E=Object(l.a)(k,2),A=E[0],z=E[1],I=Object(s.useState)(0),H=Object(l.a)(I,2),V=H[0],G=H[1],P=Object(s.useState)(0),F=Object(l.a)(P,2),R=F[0],M=F[1],J=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,s,n,r,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch("http://localhost/v0/responses?"+T,{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((a=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return e.next=9,a.json();case 9:s=e.sent,n=[],r=new Map,c=new Map,s.forEach((function(e){var t=new Date(e.createdAt).toLocaleString("en-US"),a=e.tags,s={id:e.id,email:e.emailAddress,name:e.name+" / "+e.subject,value:t,body:e.body};a.forEach((function(e){if(r.has(e.value)){var t=r.get(e.value);null===t||void 0===t||t.push(s),r.set(e.value,t||[])}else{var a=[];a.push(s),r.set(e.value,a)}c.set(e.value,(c.get(e.value)||0)+1)})),n.push(s)})),o=[],Array.from(c.keys()).forEach((function(e){var t=" inquiry";(c.get(e)||0)>1&&(t=" inquiries"),o.push({name:e,value:c.get(e)+t})})),o.sort((function(e,t){return e.value>t.value||e.value===t.value?-1:1})),M(o.length),G(n.length),S(o),g(r);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch("http://localhost/v0/responses?"+T+"&"+C,{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((a=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return e.next=9,a.json();case 9:s=e.sent,z(s.length);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){J(),U()}),[]);var K=[{title:"New Today",stat:A},{title:"Total",stat:V},{title:"Topics",stat:R}];return a?Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"dashboard sub-dashboard",children:Object(d.jsx)("button",{className:"exit-button",onClick:function(){n(!1)},children:Object(d.jsx)("img",{className:"back-arrow",src:"./assets/icons/arrow.svg"})})}),Object(d.jsx)(B,{header:"General Inquiries",subjectTitle:o,data:m})]}):Object(d.jsx)("div",{className:"dashboard sub-dashboard",children:Object(d.jsxs)("div",{children:[Object(d.jsx)(q,{title:"General Inquiries"}),Object(d.jsx)(D,{title:"TOP SUBJECTS",data:y,changeViewFunc:function(e){j(e.name),f((null===x||void 0===x?void 0:x.get(e.name))||[]),n(!0)},emailTemplates:!1,fullPageView:!1}),Object(d.jsxs)("div",{className:"sub-summary",children:[Object(d.jsx)(L,{title:"SUMMARY",subHeaderValue:"Active Inquiries"}),Object(d.jsx)(p,{spaceEven:!1,cards:K})]})]})})}function Q(){!function(){var e=[];e.push({name:"Test",value:22})}();var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(""),c=Object(l.a)(r,2),o=c[0],j=c[1],b=Object(s.useState)([]),h=Object(l.a)(b,2),m=h[0],f=h[1],v=Object(s.useState)(),O=Object(l.a)(v,2),x=O[0],g=O[1],w=Object(s.useState)([]),N=Object(l.a)(w,2),y=N[0],S=N[1],k=Object(s.useState)(0),E=Object(l.a)(k,2),A=E[0],T=E[1],I=Object(s.useState)(0),H=Object(l.a)(I,2),V=H[0],G=H[1],P=Object(s.useState)(0),F=Object(l.a)(P,2),R=F[0],M=F[1],J=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,s,n,r,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch("http://localhost/v0/responses?"+z,{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((a=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return e.next=9,a.json();case 9:s=e.sent,n=[],r=new Map,c=new Map,s.forEach((function(e){var t=new Date(e.createdAt).toLocaleString("en-US"),a=e.tags,s={id:e.id,email:e.emailAddress,name:e.name+" / "+e.subject,value:t,body:e.body};a.forEach((function(e){if(r.has(e.value)){var t=r.get(e.value);null===t||void 0===t||t.push(s),r.set(e.value,t||[])}else{var a=[];a.push(s),r.set(e.value,a)}c.set(e.value,(c.get(e.value)||0)+1)})),n.push(s)})),o=[],Array.from(c.keys()).forEach((function(e){var t=" case";(c.get(e)||0)>1&&(t=" cases"),o.push({name:e,value:c.get(e)+t})})),o.sort((function(e,t){return e.value>t.value||e.value===t.value?-1:1})),M(o.length),G(n.length),S(o),g(r);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch("http://localhost/v0/responses?"+z+"&"+C,{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((a=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return e.next=9,a.json();case 9:s=e.sent,T(s.length);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){J(),U()}),[]);var K=[{title:"New Today",stat:A},{title:"Total",stat:V},{title:"Topics",stat:R}];return a?Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"dashboard sub-dashboard",children:Object(d.jsx)("button",{className:"exit-button",onClick:function(){n(!1)},children:Object(d.jsx)("img",{className:"back-arrow",src:"./assets/icons/arrow.svg"})})}),Object(d.jsx)(B,{header:"Casework",subjectTitle:o,data:m})]}):Object(d.jsx)("div",{className:"dashboard sub-dashboard",children:Object(d.jsxs)("div",{children:[Object(d.jsx)(q,{title:"Casework"}),Object(d.jsx)(D,{title:"TOPIC",data:y,changeViewFunc:function(e){j(e.name),f((null===x||void 0===x?void 0:x.get(e.name))||[]),n(!0)},emailTemplates:!1,fullPageView:!1}),Object(d.jsxs)("div",{className:"sub-summary",children:[Object(d.jsx)(L,{title:"SUMMARY",subHeaderValue:"Active Cases"}),Object(d.jsx)(p,{spaceEven:!1,cards:K})]})]})})}var Y=a(341),W=a(176);function X(){var e=Object(s.useState)(),t=Object(l.a)(e,2),a=t[0],n=t[1],r=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch(E+V,{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((a=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return s=new Map,e.next=10,a.json();case 10:e.sent.forEach((function(e){s.has(e.value)?s.set(e.value,(s.get(e.value)||0)+1):s.set(e.value,1)})),r=[],Array.from(s.keys()).forEach((function(e){r.push({name:e,count:s.get(e)||0})})),r.sort((function(e,t){return e.count>t.count?-1:e.count<t.count?1:0})),n(r);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){r()}),[]),Object(d.jsxs)("div",{className:"dashboard sub-dashboard",children:[Object(d.jsx)(q,{title:"Engagement Reports"}),Object(d.jsx)("h2",{children:"Topics/Inquiries"}),Object(d.jsxs)(Y.a,{width:700,height:500,data:a,margin:{top:5,right:30,left:20,bottom:5},children:[Object(d.jsx)(g.a,{dataKey:"name"}),Object(d.jsx)(w.a,{}),Object(d.jsx)(y.a,{}),Object(d.jsx)(W.a,{dataKey:"count",fill:"#855CF8"})]})]})}function Z(){return Object(d.jsx)("div",{})}a(332);function $(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(""),o=Object(l.a)(c,2),j=o[0],b=o[1],h=Object(s.useState)(""),p=Object(l.a)(h,2),m=p[0],f=p[1],v=Object(s.useState)(""),O=Object(l.a)(v,2),x=O[0],g=O[1],w=Object(s.useState)(""),N=Object(l.a)(w,2),y=N[0],S=N[1],k=Object(s.useState)(""),E=Object(l.a)(k,2),A=E[0],C=E[1],T=function(){var t=Object(u.a)(i.a.mark((function t(a){var s,n,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s={email:x,password:y},n=JSON.stringify(s),t.next=5,fetch("http://localhost/v0/login",{method:"POST",body:n,headers:new Headers({"Content-Type":"application/json"})});case 5:if(r=t.sent,console.log(r),!(r.status>=300)){t.next=10;break}return alert("Invalid email or password"),t.abrupt("return");case 10:c=r.headers.get("Authorization"),e.userLogin(c);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=function(){var t=Object(u.a)(i.a.mark((function t(a){var s,n,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s={email:x,password:y,passwordConfirm:A,firstName:j,lastName:m},n=JSON.stringify(s),t.next=5,fetch("http://localhost/v0/signup",{method:"POST",body:n,headers:new Headers({"Content-Type":"application/json"})});case 5:if(!((r=t.sent).status>=300)){t.next=9;break}return alert("Invalid email or password"),t.abrupt("return");case 9:c=r.headers.get("Authorization"),e.userLogin(c);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function I(e){b(""),f(""),g(""),S(""),C(""),r(e)}return Object(d.jsx)("div",{className:"login-page",children:Object(d.jsxs)("div",{className:"login-container",children:[Object(d.jsx)("img",{src:"./assets/icons/logo.png"}),Object(d.jsx)("h1",{className:"login-title",children:"Civic QA"}),n?Object(d.jsxs)("div",{children:[Object(d.jsxs)("form",{className:"login-form",autoComplete:"off",onSubmit:z,children:[Object(d.jsx)("input",{className:"login-form-input login-form-text",name:"fname",type:"text",value:j,placeholder:"First Name",onChange:function(e){return b(e.target.value)},required:!0}),Object(d.jsx)("input",{className:"login-form-input login-form-text",name:"lname",type:"text",value:m,placeholder:"Last Name",onChange:function(e){return f(e.target.value)},required:!0}),Object(d.jsx)("input",{className:"login-form-input login-form-text",name:"email",type:"text",value:x,placeholder:"Email",onChange:function(e){return g(e.target.value)},required:!0}),Object(d.jsx)("input",{className:"login-form-input login-form-text",name:"password",type:"password",value:y,placeholder:"Password",onChange:function(e){return S(e.target.value)},required:!0}),Object(d.jsx)("input",{className:"login-form-input login-form-text",name:"confirm-password",type:"password",value:A,placeholder:"Confirm Password",onChange:function(e){return C(e.target.value)},required:!0}),Object(d.jsx)("input",{className:"login-form-input login-btn",type:"submit",value:"Sign up"})]}),Object(d.jsx)("button",{className:"switch-login-signup-btn",onClick:function(){return I(!1)},children:"Already have an account? Login"})]}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("form",{className:"login-form",autoComplete:"off",onSubmit:T,children:[Object(d.jsx)("input",{className:"login-form-input login-form-text",name:"email",type:"text",value:x,placeholder:"Email",onChange:function(e){return g(e.target.value)},required:!0}),Object(d.jsx)("input",{className:"login-form-input login-form-text",name:"password",type:"password",value:y,placeholder:"Password",onChange:function(e){return S(e.target.value)},required:!0}),Object(d.jsx)("input",{className:"login-form-input login-btn",type:"submit",value:"Login"})]}),Object(d.jsx)("button",{className:"switch-login-signup-btn",onClick:function(){return I(!0)},children:"New? Create Account"})]})]})})}function _(){var e=localStorage.getItem("Authorization"),t=Object(s.useState)(""!=e&&null!=e),a=Object(l.a)(t,2),n=a[0],r=a[1],o=Object(s.useState)("/dashboard"),h=Object(l.a)(o,2),p=h[0],v=h[1],O=Object(j.f)();Object(s.useEffect)((function(){v(O.pathname)}),[O]);var x=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=localStorage.getItem("Authorization")||"",e.next=4,fetch("http://localhost/v0/logout",{method:"POST",headers:new Headers({Authorization:a})});case 4:e.sent.status>=300&&console.log("Failed to logout"),localStorage.removeItem("Authorization"),r(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function g(e){localStorage.setItem("Authorization",e),r(!0)}return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(j.b,{path:"/login",component:function(){return Object(d.jsx)($,{userLogin:g})}}),n?Object(d.jsx)(j.a,{to:"/dashboard"}):Object(d.jsx)(j.a,{to:"/login"}),n?Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"profile-header",children:Object(d.jsx)(b,{})}),Object(d.jsxs)("nav",{className:"nav-bar",children:[Object(d.jsx)("h1",{className:"title",children:"Civic QA"}),Object(d.jsxs)("ul",{children:[Object(d.jsxs)("li",{children:["/dashboard"==p?Object(d.jsx)("img",{className:"icon",src:"./assets/icons/pie-chart-active.svg"}):Object(d.jsx)("img",{className:"icon",src:"./assets/icons/pie-chart.svg"}),Object(d.jsx)(c.b,{className:"nav-link",activeClassName:"active-link",to:"/dashboard",children:"Dashboard"})]}),Object(d.jsx)("li",{className:"dashboard-sub-li",children:Object(d.jsx)(c.b,{className:"nav-link",activeClassName:"active-link",to:"/general",children:"General Inquiries"})}),Object(d.jsx)("li",{className:"dashboard-sub-li",children:Object(d.jsx)(c.b,{className:"nav-link",activeClassName:"active-link",to:"/casework",children:m})}),Object(d.jsxs)("li",{children:["/responses"==p?Object(d.jsx)("img",{className:"icon",src:"./assets/icons/inbox-active.svg"}):Object(d.jsx)("img",{className:"icon",src:"./assets/icons/inbox.svg"}),Object(d.jsx)(c.b,{className:"nav-link",activeClassName:"active-link",to:"/responses",children:f})]}),Object(d.jsxs)("li",{children:["/engagement-reports"==p?Object(d.jsx)("img",{className:"icon",src:"./assets/icons/stats-active.svg"}):Object(d.jsx)("img",{className:"icon",src:"./assets/icons/stats.svg"}),Object(d.jsx)(c.b,{className:"nav-link",activeClassName:"active-link",to:"/engagement-reports",children:"Engagement Reports"})]})]}),Object(d.jsx)("div",{className:"compose-email-btn-container",children:Object(d.jsx)("hr",{className:"solid"})}),Object(d.jsxs)("ul",{children:[Object(d.jsxs)("li",{children:["/settings"==p?Object(d.jsx)("img",{className:"icon",src:"./assets/icons/settings-active.svg"}):Object(d.jsx)("img",{className:"icon",src:"./assets/icons/settings.svg"}),Object(d.jsx)(c.b,{className:"nav-link",activeClassName:"active-link",to:"/settings",children:"Settings"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("img",{className:"icon",src:"./assets/icons/logout.svg"}),Object(d.jsx)("button",{className:"logout-btn",onClick:x,children:"Logout"})]})]})]})]}),Object(d.jsx)(j.b,{path:"/dashboard",component:P}),Object(d.jsx)(j.b,{path:"/general",component:K}),Object(d.jsx)(j.b,{path:"/casework",component:Q}),Object(d.jsx)(j.b,{path:"/responses",component:B}),Object(d.jsx)(j.b,{path:"/engagement-reports",component:X}),Object(d.jsx)(j.b,{path:"/settings",component:Z})]}):null]})}var ee=document.getElementById("root");r.a.render(Object(d.jsx)(c.a,{children:Object(d.jsx)(_,{})}),ee)}},[[335,1,2]]]);
//# sourceMappingURL=main.271f4e2d.chunk.js.map