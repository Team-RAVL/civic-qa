(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{168:function(e,t,s){},169:function(e,t,s){},201:function(e,t,s){},202:function(e,t,s){},205:function(e,t,s){},206:function(e,t,s){},207:function(e,t,s){},338:function(e,t,s){},339:function(e,t,s){},340:function(e,t,s){},341:function(e,t,s){},342:function(e,t,s){},343:function(e,t,s){},344:function(e,t,s){},345:function(e,t,s){},346:function(e,t,s){},347:function(e,t,s){"use strict";s.r(t);var n=s(45),a=s.n(n),r=s(22),c=s(79),i=s(60),o=s(69),u={auth:localStorage.getItem("Authorization")||""},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH":return Object(o.a)(Object(o.a)({},e),{},{auth:t.payload});default:return e}},d={path:"/dashboard"},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PATH":return Object(o.a)(Object(o.a)({},e),{},{path:t.payload});default:return e}},b=Object(i.b)({path:j,auth:l}),h=Object(i.c)(b),m=s(8),p=s.n(m),f=s(14),g=s(4),O=(s(201),s(0)),v=s(21),x=(s(202),s(1));function w(){return Object(x.jsxs)("div",{className:"profile-heading",children:[Object(x.jsx)("p",{className:"profile-name",children:"Profile Name"}),Object(x.jsx)("svg",{height:"100",width:"100",children:Object(x.jsx)("circle",{cx:"25",cy:"25",r:"24",stroke:"#DFE0EB","stroke-width":"1",fill:"white"})})]})}var y="Form Inquiries",N="#9B51E0";function k(e){var t=Object(v.f)(),s=Object(c.c)((function(e){return e.path})).path,n=Object(c.b)();return Object(O.useEffect)((function(){!function(e){n({type:"SET_PATH",payload:e})}(t.pathname)}),[t]),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"profile-header",children:Object(x.jsx)(w,{})}),Object(x.jsxs)("nav",{className:"nav-bar",children:[Object(x.jsx)("h1",{className:"title",children:"Civic QA"}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:["/dashboard"==s?Object(x.jsx)("img",{className:"icon",src:"./assets/icons/pie-chart-active.svg"}):Object(x.jsx)("img",{className:"icon",src:"./assets/icons/pie-chart.svg"}),Object(x.jsx)(r.b,{className:"nav-link",activeClassName:"active-link",to:"/dashboard",children:"Dashboard"})]}),Object(x.jsx)("li",{className:"dashboard-sub-li",children:Object(x.jsx)(r.b,{className:"nav-link",activeClassName:"active-link",to:"/general",children:"General Topics"})}),Object(x.jsx)("li",{className:"dashboard-sub-li",children:Object(x.jsx)(r.b,{className:"nav-link",activeClassName:"active-link",to:"/casework",children:"Casework Topics"})}),Object(x.jsxs)("li",{children:["/inquiries"==s?Object(x.jsx)("img",{className:"icon",src:"./assets/icons/inbox-active.svg"}):Object(x.jsx)("img",{className:"icon",src:"./assets/icons/inbox.svg"}),Object(x.jsx)(r.b,{className:"nav-link",activeClassName:"active-link",to:"/inquiries",children:y})]}),Object(x.jsxs)("li",{children:["/forms"==s?Object(x.jsx)("img",{className:"icon",src:"./assets/icons/inbox-active.svg"}):Object(x.jsx)("img",{className:"icon",src:"./assets/icons/inbox.svg"}),Object(x.jsx)(r.b,{className:"nav-link",activeClassName:"active-link",to:"/forms",children:"Your Forms"})]}),Object(x.jsxs)("li",{children:["/engagement-reports"==s?Object(x.jsx)("img",{className:"icon",src:"./assets/icons/stats-active.svg"}):Object(x.jsx)("img",{className:"icon",src:"./assets/icons/stats.svg"}),Object(x.jsx)(r.b,{className:"nav-link",activeClassName:"active-link",to:"/engagement-reports",children:"Engagement Reports"})]})]}),Object(x.jsx)("div",{className:"compose-email-btn-container",children:Object(x.jsx)("hr",{className:"solid"})}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:["/settings"==s?Object(x.jsx)("img",{className:"icon",src:"./assets/icons/settings-active.svg"}):Object(x.jsx)("img",{className:"icon",src:"./assets/icons/settings.svg"}),Object(x.jsx)(r.b,{className:"nav-link",activeClassName:"active-link",to:"/settings",children:"Settings"})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("img",{className:"icon",src:"./assets/icons/logout.svg"}),Object(x.jsx)("button",{className:"logout-btn",onClick:function(){e.userLogout(),v.a},children:"Logout"})]})]})]})]})}s(205);function S(e){return Object(x.jsxs)("div",{className:"stat-card",children:[Object(x.jsx)("h1",{className:"stat-card-title",children:e.title}),Object(x.jsx)("p",{className:"stat-card-data",children:e.stat})]})}s(206);function A(e){var t=[];return e.cards.forEach((function(e){return t.push(Object(x.jsx)(S,{title:e.title,stat:e.stat}))})),e.spaceEven?Object(x.jsx)("div",{className:"stat-cards-even",children:t}):Object(x.jsx)("div",{className:"stat-cards-between",children:t})}s(207);function E(e){var t=Object(O.useState)(!1),s=Object(g.a)(t,2),n=s[0],a=s[1];return Object(x.jsxs)("div",{children:[Object(x.jsxs)("button",{className:"dropdown-menu-btn",onClick:function(){return a((function(e){return!e}))},children:[Object(x.jsx)("p",{className:"dropdown-menu-btn-text",children:e.chartView}),n?Object(x.jsx)("img",{className:"dropdown-menu-arrow rotate-arrow",src:"./assets/icons/down-arrow.svg"}):Object(x.jsx)("img",{className:"dropdown-menu-arrow",src:"./assets/icons/down-arrow.svg"})]}),n?Object(x.jsx)("div",{className:"menu",children:Object(x.jsx)("button",{onClick:function(){return t=y,e.setChartView(t),void a((function(e){return!e}));var t},className:"dropdown-menu-btn",children:Object(x.jsx)("p",{className:"dropdown-menu-btn-text",children:"Topics"})})}):Object(x.jsx)("div",{})]})}var C=s(355),T=s(348),I=s(98),z=s(99),H=s(352),L=s(104),q=s(182);function V(e){return Object(x.jsx)("div",{style:{width:"60%",height:400},children:Object(x.jsx)(C.a,{children:Object(x.jsxs)(T.a,{data:e.data,children:[Object(x.jsx)("defs",{children:Object(x.jsxs)("linearGradient",{id:"purpleGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(x.jsx)("stop",{offset:"0%",stopColor:N,stopOpacity:.5}),Object(x.jsx)("stop",{offset:"100%",stopColor:N,stopOpacity:0})]})}),Object(x.jsx)(I.a,{dataKey:"index"}),Object(x.jsx)(z.a,{}),Object(x.jsx)(H.a,{stroke:"#eee",vertical:!1}),Object(x.jsx)(L.a,{}),Object(x.jsx)(q.a,{type:"monotone",dataKey:"responses",stroke:N,fillOpacity:1,fill:"url(#purpleGradient)"})]})})})}var F="https://api.civicqa.codes/v0",G="/responses",P="/responses?todayOnly=true",M="/responses?activeOnly=true&inquiryType=general",B="/responses?activeOnly=true&inquiryType=casework",D="/tags",R="/mailto";function J(){var e=Object(O.useState)(0),t=Object(g.a)(e,2),s=t[0],n=t[1],a=Object(O.useState)(0),r=Object(g.a)(a,2),c=r[0],i=r[1],o=Object(O.useState)([]),u=Object(g.a)(o,2),l=u[0],d=u[1],j=Object(O.useState)(y),b=Object(g.a)(j,2),h=b[0],m=b[1];function v(){return(v=Object(f.a)(p.a.mark((function e(){var t,s,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch(F+G,{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((s=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return e.next=9,s.json();case 9:a=e.sent,n(a.length);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(f.a)(p.a.mark((function e(){var t,s,n,a,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch(F+P,{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((s=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return e.next=9,s.json();case 9:for(n=e.sent,a=new Map,n.forEach((function(e){var t=new Date(e.createdAt).getHours();a.has(t)?a.set(t,(a.get(t)||0)+1):a.set(t,1)})),r=[],c=0;c<24;c++)r.push({index:c,responses:a.get(c)||0});d(r),i(n.length);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.useEffect)((function(){!function(){v.apply(this,arguments)}(),function(){w.apply(this,arguments)}()}),[]),Object(x.jsxs)("div",{className:"trends",children:[Object(x.jsxs)("div",{className:"chart-heading",children:[Object(x.jsx)("h2",{className:"chart-title",children:"Today's trends"}),Object(x.jsx)("div",{className:"dropdown-menu",children:Object(x.jsx)(E,{chartView:h,setChartView:m})})]}),Object(x.jsxs)("div",{className:"chart-stats",children:[Object(x.jsx)(V,{data:l}),Object(x.jsxs)("div",{className:"chart-stats-cards",children:[Object(x.jsx)(S,{title:"Total",stat:s}),Object(x.jsx)(S,{title:"Today",stat:c})]})]})]})}s(338);function U(){var e=localStorage.getItem("Authorization")||"",t=Object(O.useState)(0),s=Object(g.a)(t,2),n=s[0],a=s[1],r=Object(O.useState)(0),c=Object(g.a)(r,2),i=c[0],o=c[1],u=function(){var t=Object(f.a)(p.a.mark((function t(){var s,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(F+M,{method:"GET",headers:new Headers({Authorization:e})});case 2:if(!((s=t.sent).status>=300)){t.next=6;break}return console.log("Error retrieving form responses"),t.abrupt("return");case 6:return t.next=8,s.json();case 8:n=t.sent,a(n.length);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Object(f.a)(p.a.mark((function t(){var s,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(F+B,{method:"GET",headers:new Headers({Authorization:e})});case 2:if(!((s=t.sent).status>=300)){t.next=6;break}return console.log("Error retrieving form responses"),t.abrupt("return");case 6:return t.next=8,s.json();case 8:n=t.sent,o(n.length);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(O.useEffect)((function(){u(),l()}),[]);var d=[{title:"Active General Inquiries",stat:n},{title:"Active Casework",stat:i}];return Object(x.jsxs)("div",{className:"dashboard",children:[Object(x.jsx)(A,{spaceEven:!0,cards:d}),Object(x.jsx)(J,{})]})}function Q(e){return Object(x.jsx)("div",{children:Object(x.jsx)("h1",{className:"sub-dash-title",children:e.title})})}s(339);function K(e){return Object(x.jsxs)("div",{className:"sub-dash-card",children:[Object(x.jsx)("p",{className:"sub-dash-card-name",children:e.data.name}),Object(x.jsx)("button",{className:"sub-dash-card-btn",onClick:function(){return e.changeViewFunc(e.data)},children:"View"}),Object(x.jsx)("p",{className:"sub-dash-card-value",children:e.data.value})]})}function W(e){return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"sub-dash-sub-header",children:[Object(x.jsx)("h2",{className:"sub-dash-sub-title",children:e.title}),e.subHeaderValue?Object(x.jsx)("h1",{className:"sub-dash-sub-number",children:e.subHeaderValue}):null,Object(x.jsx)("hr",{className:"sub-dash-line"})]})})}s(340);function Y(e){var t=[];return e.data.forEach((function(s){return t.push(Object(x.jsx)(K,{data:s,changeViewFunc:e.changeViewFunc}))})),Object(x.jsx)("div",{children:Object(x.jsxs)("div",{children:[Object(x.jsx)(W,{title:e.title,subHeaderValue:e.subHeaderValue?e.subHeaderValue:void 0}),e.fullPageView?Object(x.jsx)("div",{className:"sub-dash-cards-long",children:t}):Object(x.jsx)("div",{className:"sub-dash-cards-short",children:t})]})})}s(168);function _(e){return Object(x.jsxs)("div",{className:"tag",children:[Object(x.jsx)("p",{className:"tag-value",children:"#"+e.value}),Object(x.jsx)("button",{className:"tag-remove-btn",onClick:function(){return e.remove(e.value)},children:Object(x.jsx)("img",{className:"icon",src:"./assets/icons/remove.svg"})})]})}function X(e){var t=Object(O.useRef)(null),s=Object(O.useState)(""),n=Object(g.a)(s,2),a=n[0],r=n[1],c=Object(O.useState)(!1),i=Object(g.a)(c,2),o=i[0],u=i[1];function l(t){t.preventDefault(),a.length>0&&e.addTag(a),u(!1),r("")}function d(e){t.current&&!t.current.contains(e.target)&&u(!1)}Object(O.useEffect)((function(){return document.addEventListener("mousedown",d),function(){document.removeEventListener("mousedown",d)}}),[]);var j=[];return e.values.forEach((function(t){j.push(Object(x.jsx)(_,{value:t,remove:e.removeTag}))})),Object(x.jsxs)("div",{className:"tags-container",children:[j,o?Object(x.jsx)("div",{children:Object(x.jsx)("form",{onSubmit:function(e){return l(e)},children:Object(x.jsx)("input",{ref:t,className:"tag-add-input",type:"text",placeholder:"#",onChange:function(e){return r(e.target.value)}})})}):Object(x.jsx)("button",{className:"tag-add-btn",onClick:function(){return u(!0)},children:Object(x.jsx)("img",{className:"icon",src:"./assets/icons/plus.svg"})})]})}s(341);function Z(e){var t=Object(O.useState)(!0),s=Object(g.a)(t,2),n=s[0],a=s[1],r=Object(O.useState)([]),c=Object(g.a)(r,2),i=c[0],o=c[1],u=Object(O.useState)(""),l=Object(g.a)(u,2),d=l[0],j=l[1];function b(){return(b=Object(f.a)(p.a.mark((function t(){var s,n,a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={to:[e.email],subject:e.subject,body:d},n=JSON.stringify(s),t.next=4,fetch(F+R,{method:"POST",body:n,headers:new Headers({"Content-Type":"application/json"})});case 4:if(!((a=t.sent).status>=300)){t.next=8;break}return console.log("Error creating mailto"),t.abrupt("return");case 8:return t.next=10,a.text();case 10:r=t.sent,window.location.href=r;case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var h=function(){var t=Object(f.a)(p.a.mark((function t(){var s,n,a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=localStorage.getItem("Authorization")||"",t.next=3,fetch(F+G+"/"+e.responseId+D,{method:"GET",headers:new Headers({Authorization:s})});case 3:if(!((n=t.sent).status>=300)){t.next=7;break}return console.log("Error retreiving response tags"),t.abrupt("return");case 7:return t.next=9,n.json();case 9:a=t.sent,r=[],a.forEach((function(e){r.push(e.value)})),o(r);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function m(){return(m=Object(f.a)(p.a.mark((function t(s){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("Authorization")||"",a=JSON.stringify({value:s}),t.next=4,fetch(F+G+"/"+e.responseId+D,{method:"DELETE",body:a,headers:new Headers({Authorization:n,"Content-Type":"application/json"})});case 4:if(!(t.sent.status>=300)){t.next=8;break}return console.log("Error creating tag"),t.abrupt("return");case 8:h();case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(){return(v=Object(f.a)(p.a.mark((function t(s){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("Authorization")||"",a=JSON.stringify({value:s}),t.next=4,fetch(F+G+"/"+e.responseId+D,{method:"POST",body:a,headers:new Headers({Authorization:n,"Content-Type":"application/json"})});case 4:if(!(t.sent.status>=300)){t.next=8;break}return console.log("Error creating tag"),t.abrupt("return");case 8:h();case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var w=function(){var e=Object(f.a)(p.a.mark((function e(t,s){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("Authorization")||"",a=JSON.stringify({active:!s}),e.next=4,fetch(F+G+"/"+t,{method:"PATCH",body:a,headers:new Headers({Authorization:n})});case 4:if(!(e.sent.status>=300)){e.next=8;break}return console.log("Error marking form response as resolved"),e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();function y(){return(y=Object(f.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a((function(e){return!e})),w(e.responseId,n);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(O.useEffect)((function(){h()}),[]),Object(x.jsxs)("div",{children:[e.hideBackArrow?null:Object(x.jsx)("button",{className:"exit-button",onClick:function(){return e.setSpecificView()},children:Object(x.jsx)("img",{className:"back-arrow",src:"./assets/icons/arrow.svg"})}),Object(x.jsx)(Q,{title:e.title}),Object(x.jsx)(W,{title:e.subject}),Object(x.jsx)(X,{addTag:function(e){return v.apply(this,arguments)},removeTag:function(e){return m.apply(this,arguments)},values:i}),Object(x.jsx)("div",{className:"form-response-container",children:Object(x.jsxs)("div",{className:"form-response",children:[Object(x.jsx)("p",{className:"form-response-body",children:e.body}),Object(x.jsx)("textarea",{className:"form-response-message",value:d,onChange:function(e){return j(e.target.value)}}),Object(x.jsxs)("div",{className:"resolved-send-container",children:[Object(x.jsxs)("label",{className:"resolved-label",children:[Object(x.jsx)("input",{id:"resolved-check-box",className:"resolved-check-box",type:"checkbox",onClick:function(){return function(){return y.apply(this,arguments)}()}}),"Resolved"]}),Object(x.jsx)("button",{className:"send-btn",placeholder:"Message",onClick:function(){return b.apply(this,arguments)},children:"Send"})]})]})})]})}function $(e){var t=e.header||"Form Inquiries",s=e.subjectTitle||"CURRENT INQUIRIES",n=e.hideInquiryBackArrow||!1,a=Object(O.useState)(!1),r=Object(g.a)(a,2),c=r[0],i=r[1],o=Object(O.useState)([]),u=Object(g.a)(o,2),l=u[0],d=u[1],j=Object(O.useState)(),b=Object(g.a)(j,2),h=b[0],m=b[1],v=function(){var e=Object(f.a)(p.a.mark((function e(){var t,s,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch(F+"/responses?activeOnly=true",{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((s=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return e.next=9,s.json();case 9:n=e.sent,a=[],n.forEach((function(e){var t=new Date(e.createdAt).toLocaleString("en-US");a.push({id:e.id,email:e.emailAddress,name:e.name+" / "+e.subject,value:t,body:e.body})})),d(a);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.useEffect)((function(){v()}),[]),Object(x.jsx)("div",{className:"dashboard sub-dashboard",children:c?Object(x.jsx)(Z,{responseId:(null===h||void 0===h?void 0:h.id)||"",email:(null===h||void 0===h?void 0:h.email)||"",title:"Inquiry",subject:(null===h||void 0===h?void 0:h.name)||"",body:(null===h||void 0===h?void 0:h.body)||"",setSpecificView:function(){i(!1),v()},hideBackArrow:n}):Object(x.jsxs)("div",{children:[Object(x.jsx)(Q,{title:t}),Object(x.jsx)(Y,{title:s,data:e.data?e.data:l,changeViewFunc:function(e){i(!0),m(e)},fullPageView:!0,subHeaderValue:e.data?e.data.length:l.length})]})})}function ee(){var e=localStorage.getItem("Authorization")||"",t=Object(O.useState)(!1),s=Object(g.a)(t,2),n=s[0],a=s[1],r=Object(O.useState)(""),c=Object(g.a)(r,2),i=c[0],o=c[1],u=Object(O.useState)([]),l=Object(g.a)(u,2),d=l[0],j=l[1],b=Object(O.useState)(),h=Object(g.a)(b,2),m=h[0],v=h[1],w=Object(O.useState)([]),y=Object(g.a)(w,2),N=y[0],k=y[1],S=Object(O.useState)(0),E=Object(g.a)(S,2),C=E[0],T=E[1],I=Object(O.useState)(0),z=Object(g.a)(I,2),H=z[0],L=z[1],q=Object(O.useState)(0),V=Object(g.a)(q,2),G=V[0],P=V[1],B=function(){var t=Object(f.a)(p.a.mark((function t(){var s,n,a,r,c,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(F+M,{method:"GET",headers:new Headers({Authorization:e})});case 2:if(!((s=t.sent).status>=300)){t.next=6;break}return console.log("Error retrieving form responses"),t.abrupt("return");case 6:return t.next=8,s.json();case 8:n=t.sent,a=[],r=new Map,c=new Map,n.forEach((function(e){var t=new Date(e.createdAt).toLocaleString("en-US"),s=e.tags,n={id:e.id,email:e.emailAddress,name:e.name+" / "+e.subject,value:t,body:e.body};s.forEach((function(e){if(r.has(e.value)){var t=r.get(e.value);null===t||void 0===t||t.push(n),r.set(e.value,t||[])}else{var s=[];s.push(n),r.set(e.value,s)}c.set(e.value,(c.get(e.value)||0)+1)})),a.push(n)})),i=[],Array.from(c.keys()).forEach((function(e){var t=" inquiry";(c.get(e)||0)>1&&(t=" inquiries"),i.push({name:e,value:c.get(e)+t})})),i.sort((function(e,t){return e.value>t.value||e.value===t.value?-1:1})),P(i.length),L(a.length),k(i),v(r);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=Object(f.a)(p.a.mark((function t(){var s,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(F+"/responses?activeOnly=true&inquiryType=general&todayOnly=true",{method:"GET",headers:new Headers({Authorization:e})});case 2:if(!((s=t.sent).status>=300)){t.next=6;break}return console.log("Error retrieving form responses"),t.abrupt("return");case 6:return t.next=8,s.json();case 8:n=t.sent,T(n.length);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(O.useEffect)((function(){B(),D()}),[]);var R=[{title:"New Today",stat:C},{title:"Total",stat:H},{title:"Topics",stat:G}];return n?Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"dashboard sub-dashboard",children:Object(x.jsx)("button",{className:"exit-button",onClick:function(){a(!1),B()},children:Object(x.jsx)("img",{className:"back-arrow",src:"./assets/icons/arrow.svg"})})}),Object(x.jsx)($,{header:"General",subjectTitle:i,data:d,hideInquiryBackArrow:!0})]}):Object(x.jsx)("div",{className:"dashboard sub-dashboard",children:Object(x.jsxs)("div",{children:[Object(x.jsx)(Q,{title:"General Topics"}),Object(x.jsx)(Y,{title:"TOPICS",data:N,changeViewFunc:function(e){o(e.name),j((null===m||void 0===m?void 0:m.get(e.name))||[]),a(!0)},fullPageView:!1}),Object(x.jsxs)("div",{className:"sub-summary",children:[Object(x.jsx)(W,{title:"SUMMARY",subHeaderValue:"Active Inquiries"}),Object(x.jsx)(A,{spaceEven:!1,cards:R})]})]})})}function te(){var e=localStorage.getItem("Authorization")||"",t=Object(O.useState)(!1),s=Object(g.a)(t,2),n=s[0],a=s[1],r=Object(O.useState)(""),c=Object(g.a)(r,2),i=c[0],o=c[1],u=Object(O.useState)([]),l=Object(g.a)(u,2),d=l[0],j=l[1],b=Object(O.useState)(),h=Object(g.a)(b,2),m=h[0],v=h[1],w=Object(O.useState)([]),y=Object(g.a)(w,2),N=y[0],k=y[1],S=Object(O.useState)(0),E=Object(g.a)(S,2),C=E[0],T=E[1],I=Object(O.useState)(0),z=Object(g.a)(I,2),H=z[0],L=z[1],q=Object(O.useState)(0),V=Object(g.a)(q,2),G=V[0],P=V[1],M=function(){var t=Object(f.a)(p.a.mark((function t(){var s,n,a,r,c,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(F+B,{method:"GET",headers:new Headers({Authorization:e})});case 2:if(!((s=t.sent).status>=300)){t.next=6;break}return console.log("Error retrieving form responses"),t.abrupt("return");case 6:return t.next=8,s.json();case 8:n=t.sent,a=[],r=new Map,c=new Map,n.forEach((function(e){var t=new Date(e.createdAt).toLocaleString("en-US"),s=e.tags,n={id:e.id,email:e.emailAddress,name:e.name+" / "+e.subject,value:t,body:e.body};s.forEach((function(e){if(r.has(e.value)){var t=r.get(e.value);null===t||void 0===t||t.push(n),r.set(e.value,t||[])}else{var s=[];s.push(n),r.set(e.value,s)}c.set(e.value,(c.get(e.value)||0)+1)})),a.push(n)})),i=[],Array.from(c.keys()).forEach((function(e){var t=" case";(c.get(e)||0)>1&&(t=" cases"),i.push({name:e,value:c.get(e)+t})})),i.sort((function(e,t){return e.value>t.value||e.value===t.value?-1:1})),P(i.length),L(a.length),k(i),v(r);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=Object(f.a)(p.a.mark((function t(){var s,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(F+"/responses?activeOnly=true&inquiryType=casework&todayOnly=true",{method:"GET",headers:new Headers({Authorization:e})});case 2:if(!((s=t.sent).status>=300)){t.next=6;break}return console.log("Error retrieving form responses"),t.abrupt("return");case 6:return t.next=8,s.json();case 8:n=t.sent,T(n.length);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(O.useEffect)((function(){M(),D()}),[]);var R=[{title:"New Today",stat:C},{title:"Total",stat:H},{title:"Topics",stat:G}];return n?Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"dashboard sub-dashboard",children:Object(x.jsx)("button",{className:"exit-button",onClick:function(){a(!1),M()},children:Object(x.jsx)("img",{className:"back-arrow",src:"./assets/icons/arrow.svg"})})}),Object(x.jsx)($,{header:"Casework",subjectTitle:i,data:d,hideInquiryBackArrow:!0})]}):Object(x.jsx)("div",{className:"dashboard sub-dashboard",children:Object(x.jsxs)("div",{children:[Object(x.jsx)(Q,{title:"Casework Topics"}),Object(x.jsx)(Y,{title:"TOPICS",data:N,changeViewFunc:function(e){o(e.name),j((null===m||void 0===m?void 0:m.get(e.name))||[]),a(!0)},fullPageView:!1}),Object(x.jsxs)("div",{className:"sub-summary",children:[Object(x.jsx)(W,{title:"SUMMARY",subHeaderValue:"Active Cases"}),Object(x.jsx)(A,{spaceEven:!1,cards:R})]})]})})}s(342);function se(e){return Object(x.jsxs)("div",{className:"form-card",children:[Object(x.jsx)("h1",{className:"form-card-name",children:e.name}),Object(x.jsx)("button",{className:"form-card-btn",onClick:function(){return e.getForm(e.id)},children:"Copy iFrame embed link"})]})}s(343);function ne(){var e=Object(O.useState)([]),t=Object(g.a)(e,2),s=t[0],n=t[1],a=Object(O.useState)(""),r=Object(g.a)(a,2),c=r[0],i=r[1],o=function(){var e=Object(f.a)(p.a.mark((function e(){var t,s,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch(F+"/forms",{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((s=e.sent).status>=300)){e.next=7;break}return alert("There was an error trying to get your forms."),e.abrupt("return");case 7:return e.next=9,s.json();case 9:a=e.sent,r=[],a.forEach((function(e){var t=e.id,s=e.name;r.push({id:t,name:s})})),n(r);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function u(e){var t='<iframe src="'+F+"/form/"+e+'"></iframe>';navigator.clipboard.writeText(t)}var l=function(){var e=Object(f.a)(p.a.mark((function e(t){var s,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=localStorage.getItem("Authorization")||"",n={name:c},a=JSON.stringify(n),e.next=6,fetch(F+"/forms",{method:"POST",body:a,headers:new Headers({"Content-Type":"application/json",Authorization:s})});case 6:if(!(e.sent.status>=300)){e.next=10;break}return alert("There was an error trying to get your forms."),e.abrupt("return");case 10:i(""),o();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(O.useEffect)((function(){o()}),[]);var d=[];return s.forEach((function(e){return d.push(Object(x.jsx)(se,{id:e.id,name:e.name,getForm:u}))})),Object(x.jsxs)("div",{className:"dashboard subdashboard",children:[Object(x.jsx)(Q,{title:"Your Forms"}),Object(x.jsx)("div",{className:"form-cards",children:d}),Object(x.jsx)("hr",{className:"forms-create-divider"}),Object(x.jsxs)("div",{className:"new-form-container",children:[Object(x.jsx)("h1",{children:"Create a form"}),Object(x.jsxs)("form",{className:"new-form",autoComplete:"off",onSubmit:l,children:[Object(x.jsx)("input",{className:"new-form-input",name:"name",type:"text",value:c,placeholder:"Form Name",onChange:function(e){return i(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"new-form-create-btn",type:"submit",value:"Create"})]})]})]})}var ae=s(353),re=s(185);function ce(){var e=Object(O.useState)(),t=Object(g.a)(e,2),s=t[0],n=t[1],a=function(){var e=Object(f.a)(p.a.mark((function e(){var t,s,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch(F+"/tags",{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((s=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return a=new Map,e.next=10,s.json();case 10:e.sent.forEach((function(e){a.has(e.value)?a.set(e.value,(a.get(e.value)||0)+1):a.set(e.value,1)})),r=[],Array.from(a.keys()).forEach((function(e){r.push({name:e,count:a.get(e)||0})})),r.sort((function(e,t){return e.count>t.count?-1:e.count<t.count?1:0})),r=r.slice(0,5),n(r);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.useEffect)((function(){a()}),[]),Object(x.jsxs)("div",{className:"dashboard sub-dashboard view",children:[Object(x.jsx)(Q,{title:"Engagement Reports"}),Object(x.jsx)("h2",{children:"Most Frequent Topics"}),Object(x.jsx)("div",{style:{width:"100%",height:500},children:Object(x.jsx)(C.a,{children:Object(x.jsxs)(ae.a,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[Object(x.jsx)(I.a,{dataKey:"name"}),Object(x.jsx)(z.a,{}),Object(x.jsx)(L.a,{}),Object(x.jsx)(re.a,{dataKey:"count",fill:"#855CF8"})]})})})]})}function ie(){return Object(x.jsx)("div",{})}s(344);function oe(e){return Object(x.jsxs)("div",{className:"team-bio",children:[Object(x.jsx)("h2",{children:e.name}),Object(x.jsx)("img",{className:"teammate-img",src:e.img}),Object(x.jsx)("p",{className:"bio",children:e.bio})]})}s(345);function ue(){return Object(x.jsxs)("div",{className:"landing-page",children:[Object(x.jsxs)("div",{className:"landing-logo-title-container",children:[Object(x.jsx)("img",{className:"landing-logo",src:"./assets/icons/logo.png"}),Object(x.jsx)("h1",{className:"landing-title",children:"Civic QA"})]}),Object(x.jsxs)("div",{className:"landing-btn-container",children:[Object(x.jsx)(r.b,{className:"landing-btn",to:"/signup",children:"Signup"}),Object(x.jsx)(r.b,{className:"landing-btn",to:"login",children:"Login"})]}),Object(x.jsxs)("div",{className:"project-container",children:[Object(x.jsxs)("div",{className:"project-overview",children:[Object(x.jsx)("h1",{className:"landing-sub-title",children:"Civic QA Overview"}),Object(x.jsx)("p",{children:"Legislative Assistants and those in similar positions handle an overwhelming volume of constituent inquiries daily, making it challenging to respond to all constituents and still find time for their other daily duties. How might LAs better communicate with constituents and handle responses to improve transparency and increase engagement?"}),Object(x.jsx)("h2",{children:"Why care?"}),Object(x.jsx)("p",{children:"Some Legislative Assistants receive 100s of inquiries daily about various topics, ranging from House Bills to questions about citizenship. Due to this high volume of messages, LAs often do not get the chance to respond to all their constituents, creating a lack of engagement between the people and their representatives."}),Object(x.jsx)("p",{children:"Existing platforms and technologies for LAs to filter and respond to their inquiries do not supply the necessary functionality to effectively and efficiently organize and display incoming messages. As such, our team wanted to create a new solution that caters directly to the specific needs of LAs and helps them to categorize messages while improving response times. With more efficiency on the LAs\u2019 side, more constituents receive responses and more time can be allocated to helping constituents in other ways."})]}),Object(x.jsxs)("div",{className:"stakeholders",children:[Object(x.jsx)("h1",{className:"landing-sub-title",children:"Legislative Assistants"}),Object(x.jsx)("p",{children:"Legislative Assistants and the representatives they work with are the target stakeholders for this project, with the LAs themselves as the primary users. Although this is a very niche group of users, we believe that their challenges with handling constituent responses is a problem space that is often overlooked. "}),Object(x.jsx)("p",{children:"If this project is adopted by another team in the future, we hope that it can be expanded and tailored to several different types of users and occupations. Many of the functions and features of Civic QA are specific to LAs but could also serve useful for many others, including teachers, organizers, CEOs, etc. "})]}),Object(x.jsxs)("div",{className:"project-solution",children:[Object(x.jsx)("h1",{className:"landing-sub-title",children:"How does Civic QA help?"}),Object(x.jsx)("p",{children:"Beginning with extensive market and user research, we honed in on what Legislative Assistants need the most when it comes to a solution like ours, and how we can best create a platform that responds to those needs. Our process can be broken down into a few main steps:"}),Object(x.jsxs)("ol",{className:"process-steps",children:[Object(x.jsx)("li",{children:"Research"}),Object(x.jsx)("li",{children:"Concept Validation"}),Object(x.jsx)("li",{children:"Prototyping"}),Object(x.jsx)("li",{children:"User Testing"}),Object(x.jsx)("li",{children:"Feedback Implementation"})]}),Object(x.jsx)("p",{children:"We aim to make LAs\u2019 jobs easier by removing some of the tediousness of their current system and making it so they can respond to constituents faster, while also gaining a better understanding of their engagement levels. By supplying engagement reports, daily trends, and filtered topics, LAs can see what constituents care about most and to what extent those in their jurisdiction are interacting with their representatives."}),Object(x.jsx)("p",{children:"With improved responsiveness and greater overall efficiency, LAs will be able to communicate with constituents more effectively, likely encouraging more people to engage, as LAs will be more reliable and likely to respond."})]}),Object(x.jsxs)("div",{className:"about-team",children:[Object(x.jsx)("h1",{className:"landing-sub-title",children:"Meet the Team"}),Object(x.jsxs)("div",{className:"team-bios",children:[Object(x.jsx)(oe,{name:"Lia Kitahata",img:"./assets/images/lia.jpg",bio:"Lia is graduating with the Informatics HCI track and a Spanish Minor. Her passion lies in the intersection of art, technology, and contributing to the \u201csocial good\u201d. She plans on working in UX/UI Design, focusing on making the future of tech more accessible and accommodating for all. In her free time you can find her jamming to Taylor Swift or practicing film photography."}),Object(x.jsx)(oe,{name:"Rafi Bayer",img:"./assets/images/rafi.jpg",bio:"Rafi is graduating with a degree in Informatics, following a custom track. After graduation, Rafi will be joining Microsoft as a software engineer, working with the Azure Networking team. Rafi is also interested in teaching and technical education, and hopes to use his skills to reduce the barriers to entry in the field of software. Outside of work and school, he enjoys BJJ, running, and travel. "}),Object(x.jsx)(oe,{name:"Amit Galitzky",img:"./assets/images/amit.jpg",bio:"Amit is graduating with a double degree in Informatics and Biology (Molecular & Cellular). He will be starting work as a full-time software engineer at Amazon this summer. He is enthusiastic about building software that can improve people's daily life. During his free time Amit loves to either play or watch soccer, specifically his favorite team Chelsea FC."}),Object(x.jsx)(oe,{name:"Vivian Hua",img:"./assets/images/vivian.jpg",bio:"Vivian is graduating with a degree in Informatics and will be working as a software engineer at Microsoft. She is passionate about women of color in tech and leadership roles. Vivian loves playing games, reading, and learning Chinese in her free time."})]})]})]})]})}s(169);function le(e){var t=Object(O.useState)(""),s=Object(g.a)(t,2),n=s[0],a=s[1],c=Object(O.useState)(""),i=Object(g.a)(c,2),o=i[0],u=i[1],l=Object(O.useState)(""),d=Object(g.a)(l,2),j=d[0],b=d[1],h=Object(O.useState)(""),m=Object(g.a)(h,2),v=m[0],w=m[1],y=Object(O.useState)(""),N=Object(g.a)(y,2),k=N[0],S=N[1],A=function(){var t=Object(f.a)(p.a.mark((function t(s){var a,r,c,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),a={email:j,password:v,passwordConfirm:k,firstName:n,lastName:o},r=JSON.stringify(a),t.next=5,fetch(F+"/signup",{method:"POST",body:r,headers:new Headers({"Content-Type":"application/json"})});case 5:if(!((c=t.sent).status>=400)){t.next=9;break}return alert("Invalid email or password"),t.abrupt("return");case 9:i=c.headers.get("Authorization"),e.userLogin(i);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"signup-login-page",children:Object(x.jsxs)("div",{className:"signup-login-container",children:[Object(x.jsx)("img",{className:"signup-login-logo",src:"./assets/icons/logo.png"}),Object(x.jsx)("h1",{className:"signup-login-title",children:"Civic QA"}),Object(x.jsxs)("form",{className:"signup-login-form",autoComplete:"off",onSubmit:A,children:[Object(x.jsx)("input",{className:"signup-login-form-input signup-login-form-text",name:"fname",type:"text",value:n,placeholder:"First Name",onChange:function(e){return a(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"signup-login-form-input signup-login-form-text",name:"lname",type:"text",value:o,placeholder:"Last Name",onChange:function(e){return u(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"signup-login-form-input signup-login-form-text",name:"email",type:"text",value:j,placeholder:"Email",onChange:function(e){return b(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"signup-login-form-input signup-login-form-text",name:"password",type:"password",value:v,placeholder:"Password",onChange:function(e){return w(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"signup-login-form-input signup-login-form-text",name:"confirm-password",type:"password",value:k,placeholder:"Confirm Password",onChange:function(e){return S(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"signup-login-form-input signup-login-btn",type:"submit",value:"Sign up"})]}),Object(x.jsx)(r.b,{to:"login",className:"switch-signup-login-btn",onClick:function(){a(""),u(""),b(""),w(""),S("")},children:"Already have an account? Login"})]})})}function de(e){var t=Object(O.useState)(""),s=Object(g.a)(t,2),n=s[0],a=s[1],c=Object(O.useState)(""),i=Object(g.a)(c,2),o=i[0],u=i[1],l=function(){var t=Object(f.a)(p.a.mark((function t(s){var a,r,c,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),a={email:n,password:o},r=JSON.stringify(a),t.next=5,fetch(F+"/login",{method:"POST",body:r,headers:new Headers({"Content-Type":"application/json"})});case 5:if(c=t.sent,console.log(c),!(c.status>=400)){t.next=10;break}return alert("Invalid email or password"),t.abrupt("return");case 10:i=c.headers.get("Authorization"),e.userLogin(i);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"signup-login-page",children:Object(x.jsxs)("div",{className:"signup-login-container",children:[Object(x.jsx)("img",{className:"signup-login-logo",src:"./assets/icons/logo.png"}),Object(x.jsx)("h1",{className:"signup-login-title",children:"Civic QA"}),Object(x.jsxs)("form",{className:"signup-login-form",autoComplete:"off",onSubmit:l,children:[Object(x.jsx)("input",{className:"signup-login-form-input signup-login-form-text",name:"email",type:"text",value:n,placeholder:"Email",onChange:function(e){return a(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"signup-login-form-input signup-login-form-text",name:"password",type:"password",value:o,placeholder:"Password",onChange:function(e){return u(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"signup-login-form-input signup-login-btn",type:"submit",value:"Login"})]}),Object(x.jsx)(r.b,{to:"/signup",className:"switch-signup-login-btn",onClick:function(){a(""),u("")},children:"New? Create Account"})]})})}function je(){var e=localStorage.getItem("Authorization"),t=Object(O.useState)(e||""),s=Object(g.a)(t,2),n=s[0],a=s[1];function r(){return(r=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(F+"/logout",{method:"POST",headers:new Headers({Authorization:n})});case 2:e.sent.status>=400&&console.log("Failed to logout"),localStorage.removeItem("Authorization"),a("");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){localStorage.setItem("Authorization",e),a(e),console.log(n)}return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(v.b,{exact:!0,path:"/",component:ue}),Object(x.jsx)(v.b,{exact:!0,path:"/signup",component:function(){return Object(x.jsx)(le,{userLogin:c})}}),Object(x.jsx)(v.b,{exact:!0,path:"/login",component:function(){return Object(x.jsx)(de,{userLogin:c})}}),n?Object(x.jsx)(v.a,{to:"/dashboard"}):Object(x.jsx)(v.a,{to:"/"}),n?Object(x.jsxs)("div",{children:[Object(x.jsx)(k,{userLogout:function(){return r.apply(this,arguments)}}),Object(x.jsxs)("div",{className:"view",children:[Object(x.jsx)(v.b,{exact:!0,path:"/dashboard",component:U}),Object(x.jsx)(v.b,{exact:!0,path:"/general",component:ee}),Object(x.jsx)(v.b,{exact:!0,path:"/casework",component:te}),Object(x.jsx)(v.b,{exact:!0,path:"/inquiries",component:$}),Object(x.jsx)(v.b,{exact:!0,path:"/forms",component:ne}),Object(x.jsx)(v.b,{exact:!0,path:"/engagement-reports",component:ce}),Object(x.jsx)(v.b,{exact:!0,path:"/settings",component:ie})]})]}):null]})}s(346);var be=document.getElementById("root");a.a.render(Object(x.jsx)(r.a,{basename:"",children:Object(x.jsx)(c.a,{store:h,children:Object(x.jsx)(je,{})})}),be)}},[[347,1,2]]]);
//# sourceMappingURL=main.682623a4.chunk.js.map