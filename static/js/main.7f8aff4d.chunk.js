(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{165:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},333:function(e,t,a){},334:function(e,t,a){},335:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},340:function(e,t,a){},341:function(e,t,a){"use strict";a.r(t);var n=a(59),s=a.n(n),r=a(43),c=a(27),i=a(60),o=a(69),u={auth:localStorage.getItem("Authorization")||""},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH":return Object(o.a)(Object(o.a)({},e),{},{auth:t.payload});default:return e}},j={path:"/dashboard"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PATH":return Object(o.a)(Object(o.a)({},e),{},{path:t.payload});default:return e}},b=Object(i.b)({path:d,auth:l}),h=Object(i.c)(b),p=a(9),f=a.n(p),m=a(17),O=(a(196),a(0)),v=a(21),x=(a(197),a(1));function g(){return Object(x.jsxs)("div",{className:"profile-heading",children:[Object(x.jsx)("p",{className:"profile-name",children:"Profile Name"}),Object(x.jsx)("svg",{height:"100",width:"100",children:Object(x.jsx)("circle",{cx:"25",cy:"25",r:"24",stroke:"#DFE0EB","stroke-width":"1",fill:"white"})})]})}var w=a(7);a(199);function N(e){return Object(x.jsxs)("div",{className:"stat-card",children:[Object(x.jsx)("h1",{className:"stat-card-title",children:e.title}),Object(x.jsx)("p",{className:"stat-card-data",children:e.stat})]})}a(200);function y(e){var t=[];return e.cards.forEach((function(e){return t.push(Object(x.jsx)(N,{title:e.title,stat:e.stat}))})),e.spaceEven?Object(x.jsx)("div",{className:"stat-cards-even",children:t}):Object(x.jsx)("div",{className:"stat-cards-between",children:t})}var S="Casework",k="Form Responses",E="#9B51E0";a(201);function T(e){var t=Object(O.useState)(!1),a=Object(w.a)(t,2),n=a[0],s=a[1];return Object(x.jsxs)("div",{children:[Object(x.jsxs)("button",{className:"dropdown-menu-btn",onClick:function(){return s((function(e){return!e}))},children:[Object(x.jsx)("p",{className:"dropdown-menu-btn-text",children:e.chartView}),n?Object(x.jsx)("img",{className:"dropdown-menu-arrow rotate-arrow",src:"./assets/icons/down-arrow.svg"}):Object(x.jsx)("img",{className:"dropdown-menu-arrow",src:"./assets/icons/down-arrow.svg"})]}),n?Object(x.jsx)("div",{className:"menu",children:Object(x.jsx)("button",{onClick:function(){return t=k,e.setChartView(t),void s((function(e){return!e}));var t},className:"dropdown-menu-btn",children:Object(x.jsx)("p",{className:"dropdown-menu-btn-text",children:k})})}):Object(x.jsx)("div",{})]})}var C=a(342),A=a(95),H=a(96),z=a(346),V=a(101),I=a(178);function P(e){return Object(x.jsx)("div",{children:Object(x.jsxs)(C.a,{width:800,height:450,data:e.data,children:[Object(x.jsx)("defs",{children:Object(x.jsxs)("linearGradient",{id:"purpleGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(x.jsx)("stop",{offset:"0%",stopColor:E,stopOpacity:.5}),Object(x.jsx)("stop",{offset:"100%",stopColor:E,stopOpacity:0})]})}),Object(x.jsx)(A.a,{dataKey:"index"}),Object(x.jsx)(H.a,{}),Object(x.jsx)(z.a,{stroke:"#eee",vertical:!1}),Object(x.jsx)(V.a,{}),Object(x.jsx)(I.a,{type:"monotone",dataKey:"responses",stroke:E,fillOpacity:1,fill:"url(#purpleGradient)"})]})})}var G="http://165.232.148.104/v0",q="/responses",F="/responses?todayOnly=true",L="/responses?activeOnly=true&inquiryType=general",R="/responses?activeOnly=true&inquiryType=casework",D="/tags",M="/mailto";function J(){var e=Object(O.useState)(0),t=Object(w.a)(e,2),a=t[0],n=t[1],s=Object(O.useState)(0),r=Object(w.a)(s,2),c=r[0],i=r[1],o=Object(O.useState)([]),u=Object(w.a)(o,2),l=u[0],j=u[1],d=Object(O.useState)(k),b=Object(w.a)(d,2),h=b[0],p=b[1];function v(){return(v=Object(m.a)(f.a.mark((function e(){var t,a,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch(G+q,{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((a=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return e.next=9,a.json();case 9:s=e.sent,n(s.length);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(m.a)(f.a.mark((function e(){var t,a,n,s,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch(G+q+"?"+F,{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((a=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return e.next=9,a.json();case 9:for(n=e.sent,s=new Map,n.forEach((function(e){var t=new Date(e.createdAt).getHours();s.has(t)?s.set(t,(s.get(t)||0)+1):s.set(t,1)})),r=[],c=0;c<24;c++)r.push({index:c,responses:s.get(c)||0});j(r),i(n.length);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.useEffect)((function(){!function(){v.apply(this,arguments)}(),function(){g.apply(this,arguments)}()}),[]),Object(x.jsxs)("div",{className:"trends",children:[Object(x.jsxs)("div",{className:"chart-heading",children:[Object(x.jsx)("h2",{className:"chart-title",children:"Today's trends"}),Object(x.jsx)("div",{className:"dropdown-menu",children:Object(x.jsx)(T,{chartView:h,setChartView:p})})]}),Object(x.jsxs)("div",{className:"chart-stats",children:[Object(x.jsx)(P,{data:l}),Object(x.jsxs)("div",{className:"chart-stats-cards",children:[Object(x.jsx)(N,{title:"Total",stat:a}),Object(x.jsx)(N,{title:"Today",stat:c})]})]})]})}a(333);function U(){var e=Object(c.c)((function(e){return e.auth})).auth,t=Object(O.useState)(0),a=Object(w.a)(t,2),n=a[0],s=a[1],r=Object(O.useState)(0),i=Object(w.a)(r,2),o=i[0],u=i[1],l=function(){var t=Object(m.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(G+L,{method:"GET",headers:new Headers({Authorization:e})});case 2:if(!((a=t.sent).status>=300)){t.next=6;break}return console.log("Error retrieving form responses"),t.abrupt("return");case 6:return t.next=8,a.json();case 8:n=t.sent,s(n.length);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=Object(m.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(G+R,{method:"GET",headers:new Headers({Authorization:e})});case 2:if(!((a=t.sent).status>=300)){t.next=6;break}return console.log("Error retrieving form responses"),t.abrupt("return");case 6:return t.next=8,a.json();case 8:n=t.sent,u(n.length);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(O.useEffect)((function(){l(),j()}),[]);var d=[{title:"General",stat:n},{title:S,stat:o}];return Object(x.jsxs)("div",{className:"dashboard",children:[Object(x.jsx)(y,{spaceEven:!0,cards:d}),Object(x.jsx)(J,{})]})}function B(e){return Object(x.jsx)("div",{children:Object(x.jsx)("h1",{className:"sub-dash-title",children:e.title})})}a(334);function K(e){return Object(x.jsxs)("div",{className:"sub-dash-card",children:[Object(x.jsx)("p",{className:"sub-dash-card-name",children:e.data.name}),Object(x.jsx)("button",{className:"sub-dash-card-btn",onClick:function(){return e.changeViewFunc(e.data)},children:"View"}),Object(x.jsx)("p",{className:"sub-dash-card-value",children:e.data.value})]})}function _(e){return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"sub-dash-sub-header",children:[Object(x.jsx)("h2",{className:"sub-dash-sub-title",children:e.title}),e.subHeaderValue?Object(x.jsx)("h1",{className:"sub-dash-sub-number",children:e.subHeaderValue}):null,Object(x.jsx)("hr",{className:"sub-dash-line"})]})})}a(335),a(336);function Q(e){return Object(x.jsxs)("div",{className:"email-tmp-card",children:[Object(x.jsx)("p",{className:"email-tmp-card-name",children:e.name}),Object(x.jsx)("button",{className:"email-tmp-card-btn",children:"View"}),Object(x.jsx)("p",{className:"email-tmp-card-value",children:e.value})]})}function Y(e){var t=[];return e.emailTemplates?e.data.forEach((function(e){return t.push(Object(x.jsx)(Q,{name:e.name,value:e.value}))})):e.data.forEach((function(a){return t.push(Object(x.jsx)(K,{data:a,changeViewFunc:e.changeViewFunc}))})),Object(x.jsx)("div",{children:Object(x.jsxs)("div",{children:[Object(x.jsx)(_,{title:e.title,subHeaderValue:e.subHeaderValue?e.subHeaderValue:void 0}),e.fullPageView?Object(x.jsx)("div",{className:"sub-dash-cards-700",children:t}):Object(x.jsx)("div",{className:"sub-dash-cards-400",children:t})]})})}a(165);function W(e){return Object(x.jsxs)("div",{className:"tag",children:[Object(x.jsx)("p",{className:"tag-value",children:"#"+e.value}),Object(x.jsx)("button",{className:"tag-remove-btn",onClick:function(){return e.remove(e.value)},children:Object(x.jsx)("img",{className:"icon",src:"./assets/icons/remove.svg"})})]})}function X(e){var t=Object(O.useRef)(null),a=Object(O.useState)(""),n=Object(w.a)(a,2),s=n[0],r=n[1],c=Object(O.useState)(!1),i=Object(w.a)(c,2),o=i[0],u=i[1];function l(t){t.preventDefault(),s.length>0&&e.addTag(s),u(!1),r("")}function j(e){t.current&&!t.current.contains(e.target)&&u(!1)}Object(O.useEffect)((function(){return document.addEventListener("mousedown",j),function(){document.removeEventListener("mousedown",j)}}),[]);var d=[];return e.values.forEach((function(t){d.push(Object(x.jsx)(W,{value:t,remove:e.removeTag}))})),Object(x.jsxs)("div",{className:"tags-container",children:[d,o?Object(x.jsx)("div",{children:Object(x.jsx)("form",{onSubmit:function(e){return l(e)},children:Object(x.jsx)("input",{ref:t,className:"tag-add-input",type:"text",placeholder:"#",onChange:function(e){return r(e.target.value)}})})}):Object(x.jsx)("button",{className:"tag-add-btn",onClick:function(){return u(!0)},children:Object(x.jsx)("img",{className:"icon",src:"./assets/icons/plus.svg"})})]})}a(337);function Z(e){var t=Object(O.useState)(!0),a=Object(w.a)(t,2),n=a[0],s=a[1],r=Object(O.useState)([]),c=Object(w.a)(r,2),i=c[0],o=c[1],u=Object(O.useState)(""),l=Object(w.a)(u,2),j=l[0],d=l[1];function b(){return(b=Object(m.a)(f.a.mark((function t(){var a,n,s,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={to:[e.email],subject:e.subject,body:j},n=JSON.stringify(a),t.next=4,fetch(G+M,{method:"POST",body:n,headers:new Headers({"Content-Type":"application/json"})});case 4:if(!((s=t.sent).status>=300)){t.next=8;break}return console.log("Error creating mailto"),t.abrupt("return");case 8:return t.next=10,s.text();case 10:r=t.sent,window.location.href=r;case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var h=function(){var t=Object(m.a)(f.a.mark((function t(){var a,n,s,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage.getItem("Authorization")||"",t.next=3,fetch(G+q+"/"+e.responseId+D,{method:"GET",headers:new Headers({Authorization:a})});case 3:if(!((n=t.sent).status>=300)){t.next=7;break}return console.log("Error retreiving response tags"),t.abrupt("return");case 7:return t.next=9,n.json();case 9:s=t.sent,r=[],s.forEach((function(e){r.push(e.value)})),o(r);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function p(){return(p=Object(m.a)(f.a.mark((function t(a){var n,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("Authorization")||"",s=JSON.stringify({value:a}),t.next=4,fetch(G+q+"/"+e.responseId+D,{method:"DELETE",body:s,headers:new Headers({Authorization:n,"Content-Type":"application/json"})});case 4:if(!(t.sent.status>=300)){t.next=8;break}return console.log("Error creating tag"),t.abrupt("return");case 8:h();case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(){return(v=Object(m.a)(f.a.mark((function t(a){var n,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("Authorization")||"",s=JSON.stringify({value:a}),t.next=4,fetch(G+q+"/"+e.responseId+D,{method:"POST",body:s,headers:new Headers({Authorization:n,"Content-Type":"application/json"})});case 4:if(!(t.sent.status>=300)){t.next=8;break}return console.log("Error creating tag"),t.abrupt("return");case 8:h();case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var g=function(){var e=Object(m.a)(f.a.mark((function e(t,a){var n,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("Authorization")||"",s=JSON.stringify({active:!a}),e.next=4,fetch(G+q+"/"+t,{method:"PATCH",body:s,headers:new Headers({Authorization:n})});case 4:if(!(e.sent.status>=300)){e.next=8;break}return console.log("Error marking form response as resolved"),e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function N(){return(N=Object(m.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s((function(e){return!e})),g(e.responseId,n);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(O.useEffect)((function(){h()}),[]),Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{className:"exit-button",onClick:function(){return e.setSpecificView()},children:Object(x.jsx)("img",{className:"back-arrow",src:"./assets/icons/arrow.svg"})}),Object(x.jsx)(B,{title:e.title}),Object(x.jsx)(_,{title:e.subject}),Object(x.jsx)(X,{addTag:function(e){return v.apply(this,arguments)},removeTag:function(e){return p.apply(this,arguments)},values:i}),Object(x.jsx)("div",{className:"form-response-container",children:Object(x.jsxs)("div",{className:"form-response",children:[Object(x.jsx)("p",{className:"form-response-body",children:e.body}),Object(x.jsx)("textarea",{className:"form-response-message",value:j,onChange:function(e){return d(e.target.value)}}),Object(x.jsxs)("div",{className:"resolved-send-container",children:[Object(x.jsxs)("label",{className:"resolved-label",children:[Object(x.jsx)("input",{id:"resolved-check-box",className:"resolved-check-box",type:"checkbox",onClick:function(){return function(){return N.apply(this,arguments)}()}}),"Resolved"]}),Object(x.jsx)("button",{className:"send-btn",placeholder:"Message",onClick:function(){return b.apply(this,arguments)},children:"Send"})]})]})})]})}function $(e){var t=e.header||"Form Responses",a=e.subjectTitle||"CURRENT RESPONSES",n=Object(O.useState)(!1),s=Object(w.a)(n,2),r=s[0],c=s[1],i=Object(O.useState)([]),o=Object(w.a)(i,2),u=o[0],l=o[1],j=Object(O.useState)(),d=Object(w.a)(j,2),b=d[0],h=d[1],p=function(){var e=Object(m.a)(f.a.mark((function e(){var t,a,n,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch(G+"/responses?activeOnly=true",{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((a=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return e.next=9,a.json();case 9:n=e.sent,s=[],n.forEach((function(e){var t=new Date(e.createdAt).toLocaleString("en-US");s.push({id:e.id,email:e.emailAddress,name:e.name+" / "+e.subject,value:t,body:e.body})})),l(s);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.useEffect)((function(){p()}),[]),Object(x.jsx)("div",{className:"dashboard sub-dashboard",children:r?Object(x.jsx)(Z,{responseId:(null===b||void 0===b?void 0:b.id)||"",email:(null===b||void 0===b?void 0:b.email)||"",title:"Form Responses",subject:(null===b||void 0===b?void 0:b.name)||"",body:(null===b||void 0===b?void 0:b.body)||"",setSpecificView:function(){c(!1),p()}}):Object(x.jsxs)("div",{children:[Object(x.jsx)(B,{title:t}),Object(x.jsx)(Y,{title:a,data:e.data?e.data:u,changeViewFunc:function(e){c(!0),h(e)},emailTemplates:!1,fullPageView:!0,subHeaderValue:e.data?e.data.length:u.length})]})})}function ee(){var e=Object(c.c)((function(e){return e.auth})).auth,t=Object(O.useState)(!1),a=Object(w.a)(t,2),n=a[0],s=a[1],r=Object(O.useState)(""),i=Object(w.a)(r,2),o=i[0],u=i[1],l=Object(O.useState)([]),j=Object(w.a)(l,2),d=j[0],b=j[1],h=Object(O.useState)(),p=Object(w.a)(h,2),v=p[0],g=p[1],N=Object(O.useState)([]),S=Object(w.a)(N,2),k=S[0],E=S[1],T=Object(O.useState)(0),C=Object(w.a)(T,2),A=C[0],H=C[1],z=Object(O.useState)(0),V=Object(w.a)(z,2),I=V[0],P=V[1],R=Object(O.useState)(0),D=Object(w.a)(R,2),M=D[0],J=D[1],U=function(){var t=Object(m.a)(f.a.mark((function t(){var a,n,s,r,c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(G+L,{method:"GET",headers:new Headers({Authorization:e})});case 2:if(!((a=t.sent).status>=300)){t.next=6;break}return console.log("Error retrieving form responses"),t.abrupt("return");case 6:return t.next=8,a.json();case 8:n=t.sent,s=[],r=new Map,c=new Map,n.forEach((function(e){var t=new Date(e.createdAt).toLocaleString("en-US"),a=e.tags,n={id:e.id,email:e.emailAddress,name:e.name+" / "+e.subject,value:t,body:e.body};a.forEach((function(e){if(r.has(e.value)){var t=r.get(e.value);null===t||void 0===t||t.push(n),r.set(e.value,t||[])}else{var a=[];a.push(n),r.set(e.value,a)}c.set(e.value,(c.get(e.value)||0)+1)})),s.push(n)})),i=[],Array.from(c.keys()).forEach((function(e){var t=" inquiry";(c.get(e)||0)>1&&(t=" inquiries"),i.push({name:e,value:c.get(e)+t})})),i.sort((function(e,t){return e.value>t.value||e.value===t.value?-1:1})),J(i.length),P(s.length),E(i),g(r);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),K=function(){var t=Object(m.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(G+q+"?"+L+"&"+F,{method:"GET",headers:new Headers({Authorization:e})});case 2:if(!((a=t.sent).status>=300)){t.next=6;break}return console.log("Error retrieving form responses"),t.abrupt("return");case 6:return t.next=8,a.json();case 8:n=t.sent,H(n.length);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(O.useEffect)((function(){U(),K()}),[]);var Q=[{title:"New Today",stat:A},{title:"Total",stat:I},{title:"Topics",stat:M}];return n?Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"dashboard sub-dashboard",children:Object(x.jsx)("button",{className:"exit-button",onClick:function(){s(!1)},children:Object(x.jsx)("img",{className:"back-arrow",src:"./assets/icons/arrow.svg"})})}),Object(x.jsx)($,{header:"General Inquiries",subjectTitle:o,data:d})]}):Object(x.jsx)("div",{className:"dashboard sub-dashboard",children:Object(x.jsxs)("div",{children:[Object(x.jsx)(B,{title:"General Inquiries"}),Object(x.jsx)(Y,{title:"TOP SUBJECTS",data:k,changeViewFunc:function(e){u(e.name),b((null===v||void 0===v?void 0:v.get(e.name))||[]),s(!0)},emailTemplates:!1,fullPageView:!1}),Object(x.jsxs)("div",{className:"sub-summary",children:[Object(x.jsx)(_,{title:"SUMMARY",subHeaderValue:"Active Inquiries"}),Object(x.jsx)(y,{spaceEven:!1,cards:Q})]})]})})}function te(){var e=Object(c.c)((function(e){return e.auth})).auth,t=Object(O.useState)(!1),a=Object(w.a)(t,2),n=a[0],s=a[1],r=Object(O.useState)(""),i=Object(w.a)(r,2),o=i[0],u=i[1],l=Object(O.useState)([]),j=Object(w.a)(l,2),d=j[0],b=j[1],h=Object(O.useState)(),p=Object(w.a)(h,2),v=p[0],g=p[1],N=Object(O.useState)([]),S=Object(w.a)(N,2),k=S[0],E=S[1],T=Object(O.useState)(0),C=Object(w.a)(T,2),A=C[0],H=C[1],z=Object(O.useState)(0),V=Object(w.a)(z,2),I=V[0],P=V[1],L=Object(O.useState)(0),D=Object(w.a)(L,2),M=D[0],J=D[1],U=function(){var t=Object(m.a)(f.a.mark((function t(){var a,n,s,r,c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(G+R,{method:"GET",headers:new Headers({Authorization:e})});case 2:if(!((a=t.sent).status>=300)){t.next=6;break}return console.log("Error retrieving form responses"),t.abrupt("return");case 6:return t.next=8,a.json();case 8:n=t.sent,s=[],r=new Map,c=new Map,n.forEach((function(e){var t=new Date(e.createdAt).toLocaleString("en-US"),a=e.tags,n={id:e.id,email:e.emailAddress,name:e.name+" / "+e.subject,value:t,body:e.body};a.forEach((function(e){if(r.has(e.value)){var t=r.get(e.value);null===t||void 0===t||t.push(n),r.set(e.value,t||[])}else{var a=[];a.push(n),r.set(e.value,a)}c.set(e.value,(c.get(e.value)||0)+1)})),s.push(n)})),i=[],Array.from(c.keys()).forEach((function(e){var t=" case";(c.get(e)||0)>1&&(t=" cases"),i.push({name:e,value:c.get(e)+t})})),i.sort((function(e,t){return e.value>t.value||e.value===t.value?-1:1})),J(i.length),P(s.length),E(i),g(r);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),K=function(){var t=Object(m.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(G+q+"?"+R+"&"+F,{method:"GET",headers:new Headers({Authorization:e})});case 2:if(!((a=t.sent).status>=300)){t.next=6;break}return console.log("Error retrieving form responses"),t.abrupt("return");case 6:return t.next=8,a.json();case 8:n=t.sent,H(n.length);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(O.useEffect)((function(){U(),K()}),[]);var Q=[{title:"New Today",stat:A},{title:"Total",stat:I},{title:"Topics",stat:M}];return n?Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"dashboard sub-dashboard",children:Object(x.jsx)("button",{className:"exit-button",onClick:function(){s(!1)},children:Object(x.jsx)("img",{className:"back-arrow",src:"./assets/icons/arrow.svg"})})}),Object(x.jsx)($,{header:"Casework",subjectTitle:o,data:d})]}):Object(x.jsx)("div",{className:"dashboard sub-dashboard",children:Object(x.jsxs)("div",{children:[Object(x.jsx)(B,{title:"Casework"}),Object(x.jsx)(Y,{title:"TOPIC",data:k,changeViewFunc:function(e){u(e.name),b((null===v||void 0===v?void 0:v.get(e.name))||[]),s(!0)},emailTemplates:!1,fullPageView:!1}),Object(x.jsxs)("div",{className:"sub-summary",children:[Object(x.jsx)(_,{title:"SUMMARY",subHeaderValue:"Active Cases"}),Object(x.jsx)(y,{spaceEven:!1,cards:Q})]})]})})}var ae=a(347),ne=a(181);function se(){var e=Object(O.useState)(),t=Object(w.a)(e,2),a=t[0],n=t[1],s=function(){var e=Object(m.a)(f.a.mark((function e(){var t,a,s,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("Authorization")||"",e.next=3,fetch(G+"/tags",{method:"GET",headers:new Headers({Authorization:t})});case 3:if(!((a=e.sent).status>=300)){e.next=7;break}return console.log("Error retrieving form responses"),e.abrupt("return");case 7:return s=new Map,e.next=10,a.json();case 10:e.sent.forEach((function(e){s.has(e.value)?s.set(e.value,(s.get(e.value)||0)+1):s.set(e.value,1)})),r=[],Array.from(s.keys()).forEach((function(e){r.push({name:e,count:s.get(e)||0})})),r.sort((function(e,t){return e.count>t.count?-1:e.count<t.count?1:0})),n(r);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.useEffect)((function(){s()}),[]),Object(x.jsxs)("div",{className:"dashboard sub-dashboard",children:[Object(x.jsx)(B,{title:"Engagement Reports"}),Object(x.jsx)("h2",{children:"Topics/Inquiries"}),Object(x.jsxs)(ae.a,{width:700,height:500,data:a,margin:{top:5,right:30,left:20,bottom:5},children:[Object(x.jsx)(A.a,{dataKey:"name"}),Object(x.jsx)(H.a,{}),Object(x.jsx)(V.a,{}),Object(x.jsx)(ne.a,{dataKey:"count",fill:"#855CF8"})]})]})}function re(){return Object(x.jsx)("div",{})}a(338);function ce(e){var t=Object(O.useState)(!1),a=Object(w.a)(t,2),n=a[0],s=a[1],r=Object(O.useState)(""),c=Object(w.a)(r,2),i=c[0],o=c[1],u=Object(O.useState)(""),l=Object(w.a)(u,2),j=l[0],d=l[1],b=Object(O.useState)(""),h=Object(w.a)(b,2),p=h[0],v=h[1],g=Object(O.useState)(""),N=Object(w.a)(g,2),y=N[0],S=N[1],k=Object(O.useState)(""),E=Object(w.a)(k,2),T=E[0],C=E[1],A=function(){var t=Object(m.a)(f.a.mark((function t(a){var n,s,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={email:p,password:y},s=JSON.stringify(n),t.next=5,fetch(G+"/login",{method:"POST",body:s,headers:new Headers({"Content-Type":"application/json"})});case 5:if(r=t.sent,console.log(r),!(r.status>=300)){t.next=10;break}return alert("Invalid email or password"),t.abrupt("return");case 10:c=r.headers.get("Authorization"),e.userLogin(c);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=Object(m.a)(f.a.mark((function t(a){var n,s,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={email:p,password:y,passwordConfirm:T,firstName:i,lastName:j},s=JSON.stringify(n),t.next=5,fetch(G+"/signup",{method:"POST",body:s,headers:new Headers({"Content-Type":"application/json"})});case 5:if(!((r=t.sent).status>=300)){t.next=9;break}return alert("Invalid email or password"),t.abrupt("return");case 9:c=r.headers.get("Authorization"),e.userLogin(c);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function z(e){o(""),d(""),v(""),S(""),C(""),s(e)}return Object(x.jsx)("div",{className:"login-page",children:Object(x.jsxs)("div",{className:"login-container",children:[Object(x.jsx)("img",{src:"./assets/icons/logo.png"}),Object(x.jsx)("h1",{className:"login-title",children:"Civic QA"}),n?Object(x.jsxs)("div",{children:[Object(x.jsxs)("form",{className:"login-form",autoComplete:"off",onSubmit:H,children:[Object(x.jsx)("input",{className:"login-form-input login-form-text",name:"fname",type:"text",value:i,placeholder:"First Name",onChange:function(e){return o(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"login-form-input login-form-text",name:"lname",type:"text",value:j,placeholder:"Last Name",onChange:function(e){return d(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"login-form-input login-form-text",name:"email",type:"text",value:p,placeholder:"Email",onChange:function(e){return v(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"login-form-input login-form-text",name:"password",type:"password",value:y,placeholder:"Password",onChange:function(e){return S(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"login-form-input login-form-text",name:"confirm-password",type:"password",value:T,placeholder:"Confirm Password",onChange:function(e){return C(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"login-form-input login-btn",type:"submit",value:"Sign up"})]}),Object(x.jsx)("button",{className:"switch-login-signup-btn",onClick:function(){return z(!1)},children:"Already have an account? Login"})]}):Object(x.jsxs)("div",{children:[Object(x.jsxs)("form",{className:"login-form",autoComplete:"off",onSubmit:A,children:[Object(x.jsx)("input",{className:"login-form-input login-form-text",name:"email",type:"text",value:p,placeholder:"Email",onChange:function(e){return v(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"login-form-input login-form-text",name:"password",type:"password",value:y,placeholder:"Password",onChange:function(e){return S(e.target.value)},required:!0}),Object(x.jsx)("input",{className:"login-form-input login-btn",type:"submit",value:"Login"})]}),Object(x.jsx)("button",{className:"switch-login-signup-btn",onClick:function(){return z(!0)},children:"New? Create Account"})]})]})})}function ie(){var e=Object(v.f)(),t=Object(c.c)((function(e){return e.auth})).auth,a=Object(c.c)((function(e){return e.path})).path,n=Object(c.b)(),s=Object(c.b)(),i=function(e){n({type:"SET_AUTH",payload:e})};Object(O.useEffect)((function(){!function(e){s({type:"SET_PATH",payload:e})}(e.pathname)}),[e]);var o=function(){var e=Object(m.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,fetch(G+"/logout",{method:"POST",headers:new Headers({Authorization:t})});case 3:e.sent.status>=300&&console.log("Failed to logout"),i("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function u(e){localStorage.setItem("Authorization",e),i(e)}return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(v.b,{path:"/login",component:function(){return Object(x.jsx)(ce,{userLogin:u})}}),t?Object(x.jsx)(v.a,{to:"/dashboard"}):Object(x.jsx)(v.a,{to:"/login"}),t?Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"profile-header",children:Object(x.jsx)(g,{})}),Object(x.jsxs)("nav",{className:"nav-bar",children:[Object(x.jsx)("h1",{className:"title",children:"Civic QA"}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:["/dashboard"==a?Object(x.jsx)("img",{className:"icon",src:"./assets/icons/pie-chart-active.svg"}):Object(x.jsx)("img",{className:"icon",src:"./assets/icons/pie-chart.svg"}),Object(x.jsx)(r.b,{className:"nav-link",activeClassName:"active-link",to:"/dashboard",children:"Dashboard"})]}),Object(x.jsx)("li",{className:"dashboard-sub-li",children:Object(x.jsx)(r.b,{className:"nav-link",activeClassName:"active-link",to:"/general",children:"General Inquiries"})}),Object(x.jsx)("li",{className:"dashboard-sub-li",children:Object(x.jsx)(r.b,{className:"nav-link",activeClassName:"active-link",to:"/casework",children:S})}),Object(x.jsxs)("li",{children:["/responses"==a?Object(x.jsx)("img",{className:"icon",src:"./assets/icons/inbox-active.svg"}):Object(x.jsx)("img",{className:"icon",src:"./assets/icons/inbox.svg"}),Object(x.jsx)(r.b,{className:"nav-link",activeClassName:"active-link",to:"/responses",children:k})]}),Object(x.jsxs)("li",{children:["/engagement-reports"==a?Object(x.jsx)("img",{className:"icon",src:"./assets/icons/stats-active.svg"}):Object(x.jsx)("img",{className:"icon",src:"./assets/icons/stats.svg"}),Object(x.jsx)(r.b,{className:"nav-link",activeClassName:"active-link",to:"/engagement-reports",children:"Engagement Reports"})]})]}),Object(x.jsx)("div",{className:"compose-email-btn-container",children:Object(x.jsx)("hr",{className:"solid"})}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:["/settings"==a?Object(x.jsx)("img",{className:"icon",src:"./assets/icons/settings-active.svg"}):Object(x.jsx)("img",{className:"icon",src:"./assets/icons/settings.svg"}),Object(x.jsx)(r.b,{className:"nav-link",activeClassName:"active-link",to:"/settings",children:"Settings"})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("img",{className:"icon",src:"./assets/icons/logout.svg"}),Object(x.jsx)("button",{className:"logout-btn",onClick:o,children:"Logout"})]})]})]})]}),Object(x.jsx)(v.b,{path:"/dashboard",component:U}),Object(x.jsx)(v.b,{path:"/general",component:ee}),Object(x.jsx)(v.b,{path:"/casework",component:te}),Object(x.jsx)(v.b,{path:"/responses",component:$}),Object(x.jsx)(v.b,{path:"/engagement-reports",component:se}),Object(x.jsx)(v.b,{path:"/settings",component:re})]}):null]})}a(340);var oe=document.getElementById("root");s.a.render(Object(x.jsx)(r.a,{children:Object(x.jsx)(c.a,{store:h,children:Object(x.jsx)(ie,{})})}),oe)}},[[341,1,2]]]);
//# sourceMappingURL=main.7f8aff4d.chunk.js.map